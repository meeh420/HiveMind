{"definition_id":"001da64f-e197-4d50-b747-75220208fe30","last_refresh_timestamp":1392867981596,"postexecution_handlers":[{"definitionId":"001da64f-e197-4d50-b747-75220208fe30","id":"a8b3c772-befe-4f20-b1c0-ddc277590734","enable":"yes","path":"","type":null,"returnValName":"loggerOut","returnMode":"return_named_variable","primaryResultVarName":"","argPropagationListPath":"","argPropagationMode":"pass_map","explodedListPath":null,"position":"0"}],"definition":{"id":"001da64f-e197-4d50-b747-75220208fe30","code":"import java.io.StringWriter;\nimport java.lang.StringBuffer;\n\nif(((StringWriter)crudzilla.sysSettings().get(\"loggerStringWriter\")) == null)\n\t\tcrud.call(\"configure-log4j-loggers.ste\");\n\nif(((StringWriter)crudzilla.sysSettings().get(\"loggerStringWriter\")) == null)\n\treturn null;\n\nStringBuffer buf = ((StringWriter)crudzilla.sysSettings().get(\"loggerStringWriter\")).getBuffer();\narguments.put(\"loggerOut\",buf.toString());\n/*\nint i = buf.lastIndexOf(\"INFO Router\");\n\nif(i != -1)\n\targuments.put(\"loggerOut\",buf.substring(0,i));\nelse\n    arguments.put(\"loggerOut\",buf.toString());\n*/","name":"get-log-output","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"no","requireAllIdentities":null,"lastModifiedTimeStamp":"1378571028233"},"preexecution_handlers":[],"execution_parameters":[],"reference_id":"140d84e6-1d7e-40cb-8bfb-f85c79716bf2","accesscontrols":[]}