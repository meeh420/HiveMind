{"definition_id":"3c3270d9-dfb8-42e4-9c32-7aff66a3776a","last_refresh_timestamp":1392867889869,"postexecution_handlers":[],"definition":{"id":"3c3270d9-dfb8-42e4-9c32-7aff66a3776a","code":"/*\nUse interceptors to implement proxy type functionality...JEE provides filters, this is\na simpler version.\n*/\n//log\ncrud.logger().info(\"interceptor crudzilla_requested_resource:\"+crudzilla_requested_resource);\n\narguments.put(\"path_prefix\",\"\");//manupilate argument map like this\n\n\nString[] pathParts = crudzilla_requested_resource.startsWith(\"/\")?\n      crudzilla_requested_resource.substring(1).split(\"/\"):\n      crudzilla_requested_resource.split(\"/\");\n\nif(crudzilla_requested_resource.startsWith(\"/tags/\")){//enumerate by tags\n  //may lookup database by tags using the tag which is part of the url\n}\nelse\nif(crudzilla_requested_resource.startsWith(\"/search\")){//search query\n  \n}\n\n\n//process as usual\nreturn crud.call(crudzilla_requested_resource\n                     ,arguments\n                     ,crudzilla_requested_serverside/*this indicates that request is from browser*/\n                );\n","name":"interceptor","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":"no","lastModifiedTimeStamp":"1392860402157"},"preexecution_handlers":[],"execution_parameters":[],"reference_id":"e8c67771-acbd-4ca0-8cb2-369bab4d7aaf","accesscontrols":[]}