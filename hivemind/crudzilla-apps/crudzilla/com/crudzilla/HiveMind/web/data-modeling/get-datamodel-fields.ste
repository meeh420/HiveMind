{"definition_id":"9ce3d345-d18d-40d6-adff-ce3d87a94442","last_refresh_timestamp":1384005368724,"postexecution_handlers":[],"definition":{"id":"9ce3d345-d18d-40d6-adff-ce3d87a94442","code":"import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Map;\nimport java.util.HashMap;\n\n\n//Object dataModelTaxonomy = crud.add(\"taxonomyPath\",relPath).call(findAppTaxonomy);\n\nObject dataModelFieldsTaxonomy =  crud\n.add(\"taxonomyPath\",relPath+\"/fields\")\n.add(\"type\",\"apptaxonomy-category\")\n.call(findAppTaxonomy);\n\n\nList fields = crud.add(\"parent_id\",dataModelFieldsTaxonomy.id).call(getAppTaxonomys);\nList fieldObjects = new ArrayList();\n\n//long ts = new java.util.Date().getTime();\nfor(Object field:fields){\n  List parameters = crud.add(\"definition_id\",field.linkId).call(getParameters);\n  \n  Map fld = new HashMap();\n  for(Object param:parameters)\n    fld.put(param.name,param.defaultValue); \n  \n  fld.put(\"defintionId\",field.linkId);\n  fieldObjects.add(fld);\n}\n//crud.logger().info(\"complexity:\"+( (new java.util.Date().getTime()-ts)/1000));\n\n\nreturn fieldObjects;\n\n//Object parameters = crud.add(\"definition_id\",dataModelFieldsTaxonomy.linkId)\n//\t.call(getParameters);\n\n\n","name":"get-datamodel-fields","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"no","requireAllIdentities":"no","lastModifiedTimeStamp":"1384005367616"},"preexecution_handlers":[],"execution_parameters":[{"id":"f9c7fc2b-b451-4e2b-8cfb-b6728aa5eec7","definitionId":"9ce3d345-d18d-40d6-adff-ce3d87a94442","required":"no","name":"findAppTaxonomy","type":"string","validationRegEx":"","defaultValue":"/taxonomy/find-category.ste","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"61ffe83c-9783-49d7-9592-5b8d58d1bc35","definitionId":"9ce3d345-d18d-40d6-adff-ce3d87a94442","required":"no","name":"getAppTaxonomys","type":"string","validationRegEx":"","defaultValue":"/api/app-taxonomy/get-apptaxonomys.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"d5a08c03-2052-4c50-b3d5-69a111c7b073","definitionId":"9ce3d345-d18d-40d6-adff-ce3d87a94442","required":"no","name":"getParameters","type":"string","validationRegEx":"","defaultValue":"/api/nvp-processing/get-execution-parameters.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"}],"reference_id":"66692dd8-fda6-47b5-89fd-86f32122c0bf","accesscontrols":[]}