{"definition_id":"ed9227d0-9333-4174-a8be-4f7a7df70687","last_refresh_timestamp":1400892751588,"postexecution_handlers":[],"definition":{"id":"ed9227d0-9333-4174-a8be-4f7a7df70687","code":"\n  //create fields category\n  Object fieldsTaxonomy = crud.add(\"createPath\",\"true\")\n  .add(\"taxonomyPath\",relPath+\"/fields\")\n  .add(\"type\",\"apptaxonomy-category\")\n  .call(findAppTaxonomy);\n  \n  //get field list taxonomy\n  Object fieldListTaxonomy = crud\n  .add(\"taxonomyPath\",relPath+\"/fields\")\n  .add(\"type\",\"instantiator\")\n  .call(findAppTaxonomy);\n\n\n  //get datamodel field template object\n  Object dataModelFieldTemplateTaxonomy = \n  crud\n  .add(\"taxonomyPath\", \"/com/crudzilla/HiveMind/web/column-pooling/datamodel-field-type-template\")\n  .call(findAppTaxonomy);\n\n\n  String dataModelFieldId = crud\n  .add(\"definition_id\",dataModelFieldTemplateTaxonomy.linkId)\n  .add(\"name\",name)\n  .add(\"crudzilla_name_value\",name)\n  .add(\"crudzilla_column_value\",column)\n  .add(\"crudzilla_useAsLabel_value\",useAsLabel)\n  .call(cloneCrudDefinition);\n\n  crud\n  .add(\"apptaxonomy_id\",fieldsTaxonomy.appTaxonomyId)\n  .add(\"parent_id\",fieldsTaxonomy.id)\n  .add(\"presibling_id\",\"-1\")\n  .add(\"link_id\",dataModelFieldId)\n  .add(\"link_apptaxonomy_id\",\"-1\")\n  .add(\"type\",\"instantiator\")\n  .add(\"name\",name)\n  .call(addAppTaxonomy);  \n  \n  //add entry to field list\n  crud\n  .add(\"definitionId\",fieldListTaxonomy.linkId)\n  .add(\"defaultValue\",\"fields/\"+name+\".ins\")\n  .add(\"name\",\"\")\n  .add(\"type\",\"crud\")\n  .add(\"evalRight\",\"yes\")\n  .add(\"isFinal\",\"yes\")\n  .add(\"position\",0)\n  .call(addParameter); \n\n\ncrud.add(\"relPath\",relPath+\"/fields/\"+name).call(\"/taxonomy/bake-crud.ste\");\ncrud.add(\"relPath\",relPath+\"/fields\")\n\t.add(\"type\",\"instantiator\")\n\t.call(\"/taxonomy/bake-crud.ste\");\n\nreturn dataModelFieldId;","name":"add-field","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":"no","lastModifiedTimeStamp":"1400892751355"},"preexecution_handlers":[],"execution_parameters":[{"id":"28141127-6d44-484b-82de-d478049058ba","definitionId":"ed9227d0-9333-4174-a8be-4f7a7df70687","required":"no","name":"cloneCrudDefinition","type":"string","validationRegEx":"","defaultValue":"../api/primary-execution/crud-definition/clone-crud-definition.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"103c014e-0952-4b54-8514-ac78ffb5ddda","definitionId":"ed9227d0-9333-4174-a8be-4f7a7df70687","required":"no","name":"findAppTaxonomy","type":"string","validationRegEx":"","defaultValue":"/taxonomy/find-category.ste","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"40edc778-6b6c-4d34-a5e3-568cb1fad229","definitionId":"ed9227d0-9333-4174-a8be-4f7a7df70687","required":"no","name":"addAppTaxonomy","type":"string","validationRegEx":"","defaultValue":"../api/app-taxonomy/add-apptaxonomy.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"94f83460-1d5b-48fb-843a-87ae7fd5e207","definitionId":"ed9227d0-9333-4174-a8be-4f7a7df70687","required":"no","name":"addParameter","type":"string","validationRegEx":"","defaultValue":"../api/nvp-processing/add-execution-parameter.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"}],"reference_id":"bdc2adcd-bc71-41dd-8d47-adeb8fd23112","accesscontrols":[]}