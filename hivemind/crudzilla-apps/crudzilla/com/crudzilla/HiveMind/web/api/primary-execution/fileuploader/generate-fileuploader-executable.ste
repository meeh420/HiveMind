{"definition_id":"5dc2dc27-1596-41d4-8153-6e979ea9a144","last_refresh_timestamp":1392954713052,"postexecution_handlers":[],"definition":{"id":"5dc2dc27-1596-41d4-8153-6e979ea9a144","code":"import java.util.Map;\nimport java.util.HashMap;\n\ndef attachTransaction(c){\n  Object transaction  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_object\");\n  \n  if(transaction != null){\n    //Object action  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_action\");\n    c.getArguments().put(\"crudzilla_transaction_object\",transaction);\n    c.getArguments().put(\"crudzilla_transaction_\"+transaction.get(\"name\"),httpRequest.getSession().getAttribute(\"crudzilla_transaction_\"+transaction.get(\"name\")));\n    c.getArguments().put(\"crudzilla_transaction_action\",\"join\");\n  }\n  return c;\n}\n\n\nMap definition = new HashMap();\ndefinition.put(\"reference_id\",crud.util().newUUID());\ndefinition.put(\"last_refresh_timestamp\",crud.util().currentTimeStamp());\ndefinition.put(\"definition_id\",definition_id);\ndefinition.put(\"definition\",attachTransaction(crud.add(\"fileuploader_id\",definition_id)).add(\"crudzillaResultSetFormat\",\"bean\").call(getFileUploader));\ndefinition.put(\"execution_parameters\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getParameters));\ndefinition.put(\"preexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPreExecutionHandlers));\ndefinition.put(\"postexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPostExecutionHandlers));\ndefinition.put(\"accesscontrols\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getAccessControls));\n\nreturn definition;","name":"generate-fileuploader-executable","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":null,"lastModifiedTimeStamp":"1392954703746"},"preexecution_handlers":[],"execution_parameters":[{"id":"0e9edb86-a8e6-4b04-ac1c-b072ced104a9","definitionId":"5dc2dc27-1596-41d4-8153-6e979ea9a144","required":"no","name":"getParameters","type":"string","validationRegEx":"","defaultValue":"../../nvp-processing/get-execution-parameters.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"a969b189-5456-4bea-a308-66818893361b","definitionId":"5dc2dc27-1596-41d4-8153-6e979ea9a144","required":"no","name":"getAccessControls","type":"string","validationRegEx":"","defaultValue":"../../access-control/get-accesscontrols.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"e8e2c49a-0ea0-4347-8ded-b7755c44f9af","definitionId":"5dc2dc27-1596-41d4-8153-6e979ea9a144","required":"no","name":"getPreExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../pre-execution/get-preexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"8bb8163e-3e92-4033-b7ca-c282976220e0","definitionId":"5dc2dc27-1596-41d4-8153-6e979ea9a144","required":"no","name":"getPostExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../post-execution/get-postexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"},{"id":"8c94394b-f72a-4496-909e-290130c587f8","definitionId":"5dc2dc27-1596-41d4-8153-6e979ea9a144","required":"no","name":"getFileUploader","type":"string","validationRegEx":"","defaultValue":"get-fileuploader.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"4"}],"reference_id":"35a44bf9-fa61-48e1-93cf-9b9419e30f23","accesscontrols":[]}