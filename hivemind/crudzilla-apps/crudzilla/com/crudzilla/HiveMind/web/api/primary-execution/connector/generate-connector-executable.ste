{"definition_id":"41df7d0a-c732-453f-b69d-6546abd9aa3c","last_refresh_timestamp":1392954711583,"postexecution_handlers":[],"definition":{"id":"41df7d0a-c732-453f-b69d-6546abd9aa3c","code":"import java.util.Map;\nimport java.util.HashMap;\n\ndef attachTransaction(c){\n  Object transaction  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_object\");\n  \n  if(transaction != null){\n    //Object action  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_action\");\n    c.getArguments().put(\"crudzilla_transaction_object\",transaction);\n    c.getArguments().put(\"crudzilla_transaction_\"+transaction.get(\"name\"),httpRequest.getSession().getAttribute(\"crudzilla_transaction_\"+transaction.get(\"name\")));\n    c.getArguments().put(\"crudzilla_transaction_action\",\"join\");\n  }\n  return c;\n}\n\n\nMap definition = new HashMap();\ndefinition.put(\"reference_id\",crud.util().newUUID());\ndefinition.put(\"last_refresh_timestamp\",crud.util().currentTimeStamp());\ndefinition.put(\"definition_id\",definition_id);\ndefinition.put(\"definition\",attachTransaction(crud.add(\"connector_id\",definition_id)).add(\"crudzillaResultSetFormat\",\"bean\").call(getConnector));\ndefinition.put(\"execution_parameters\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getParameters));\ndefinition.put(\"preexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPreExecutionHandlers));\ndefinition.put(\"postexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPostExecutionHandlers));\ndefinition.put(\"accesscontrols\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getAccessControls));\n\nreturn definition;","name":"generate-connector-executable","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":null,"lastModifiedTimeStamp":"1392954703321"},"preexecution_handlers":[],"execution_parameters":[{"id":"5135a7b6-b7fb-458d-9560-28711253822e","definitionId":"41df7d0a-c732-453f-b69d-6546abd9aa3c","required":"no","name":"getParameters","type":"string","validationRegEx":"","defaultValue":"../../nvp-processing/get-execution-parameters.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"c6fa88d2-77d8-4932-af47-14ac1c861cb6","definitionId":"41df7d0a-c732-453f-b69d-6546abd9aa3c","required":"no","name":"getAccessControls","type":"string","validationRegEx":"","defaultValue":"../../access-control/get-accesscontrols.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"4f97f504-a3f8-4414-a1f0-ef5c2d74f507","definitionId":"41df7d0a-c732-453f-b69d-6546abd9aa3c","required":"no","name":"getPreExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../pre-execution/get-preexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"55cdc7c8-7268-4597-80ea-af841e3cb331","definitionId":"41df7d0a-c732-453f-b69d-6546abd9aa3c","required":"no","name":"getPostExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../post-execution/get-postexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"},{"id":"c409bcf8-98ea-4c10-ba24-4696c15258c2","definitionId":"41df7d0a-c732-453f-b69d-6546abd9aa3c","required":"no","name":"getConnector","type":"string","validationRegEx":"","defaultValue":"get-connector.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"4"}],"reference_id":"404f22fc-ec6b-4bbb-94fa-87a099db3b13","accesscontrols":[]}