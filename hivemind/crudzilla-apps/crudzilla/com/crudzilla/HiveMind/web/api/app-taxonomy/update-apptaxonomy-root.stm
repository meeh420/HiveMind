{"definition_id":"43f6ebf4-dd40-4a2c-a062-0465e81348f3","last_refresh_timestamp":1378565101024,"postexecution_handlers":[{"definitionId":"43f6ebf4-dd40-4a2c-a062-0465e81348f3","id":"54e4430a-a2c0-4220-89a1-21464dac36cc","enable":"yes","path":"/api/app-taxonomy/update-apptaxonomy-link.stm","type":null,"returnValName":"","returnMode":"ignore_return","primaryResultVarName":"","argPropagationListPath":"","argPropagationMode":"pass_map","position":"0"}],"definition":{"id":"43f6ebf4-dd40-4a2c-a062-0465e81348f3","definitionId":"43f6ebf4-dd40-4a2c-a062-0465e81348f3","sqlCode":"update apptaxonomy set\napptaxonomy_id=:apptaxonomy_id\nwhere\n(  \n  id=:id\n)\n/**and\n(\n    (/*Destination taxonomy*\n      select count(apptaxonomy_accesscontrol.id) from apptaxonomy_accesscontrol where \n      (\n        (\n          (:apptaxonomy_id='0' and apptaxonomy_accesscontrol.apptaxonomy_id=:id) or\n          apptaxonomy_accesscontrol.apptaxonomy_id = :apptaxonomy_id\n        )\n        and\n        (\n          apptaxonomy_accesscontrol.user_id=:crudzilla_user\n        ) \n        and\n        (\n          apptaxonomy_accesscontrol.write_access='yes'\n        )\n      )\n    )>0 \n    and\n    (/*Source taxonomy*\n      select count(apptaxonomy_accesscontrol.id) from apptaxonomy_accesscontrol where \n      (\n        (\n          (:old_apptaxonomy_id='0' and apptaxonomy_accesscontrol.id=apptaxonomy.id) or \n          apptaxonomy_accesscontrol.apptaxonomy_id = :old_apptaxonomy_id\n        )\n        and\n        (\n          apptaxonomy_accesscontrol.user_id=:crudzilla_user or \n          (\n            select count(user_roles.role_id) from \n            user_roles where user_roles.user_id=:crudzilla_user and user_roles.role_id= apptaxonomy_accesscontrol.role_id\n          )>0\n        ) \n        and\n        (\n          apptaxonomy_accesscontrol.write_access='yes'\n        )\n      )      \n    )>0\n)*/\n","preparedStatement":"update apptaxonomy set\napptaxonomy_id=?\nwhere\n(  \n  id=?\n)\n\n","preparedStatementParamList":"apptaxonomy_id,id","statementType":"select","resultSetTemplate":"{}","dataSourcePath":"/crudzilla-app-settings/crudzilla-crud-datasource.ins","name":"update-apptaxonomy-root","description":"","sqlDialect":"text/x-mysql","crudType":"datastatement","transactionPath":null,"transactionAction":null,"dataModelReferencePath":null,"resultSetProcessorPath":null,"sqlSrcPath":null,"serverSideOnly":"no","requireAllIdentities":null,"lastModifiedTimeStamp":"1377445619490"},"preexecution_handlers":[],"type_definition":{"name":"datastatement","postValidateHandler":null,"implementorPath":"/crudzilla-platform/engine/datastatement-crud-implementor.ste","implementorRefType":"reference","initializerPath":"/crudzilla-platform/engine/on-datastatement-crud-loaded.ste"},"execution_parameters":[],"reference_id":"cffb2ee0-4e10-42ae-bf1b-d2905325f9ad","accesscontrols":[]}