{"definition_id":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","last_refresh_timestamp":1392955682909,"postexecution_handlers":[],"definition":{"id":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","code":"import java.util.Map;\nimport java.util.HashMap;\n\ndef attachTransaction(c){\n  Object transaction  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_object\");\n  \n  if(transaction != null){\n    //Object action  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_action\");\n    c.getArguments().put(\"crudzilla_transaction_object\",transaction);\n    c.getArguments().put(\"crudzilla_transaction_\"+transaction.get(\"name\"),httpRequest.getSession().getAttribute(\"crudzilla_transaction_\"+transaction.get(\"name\")));\n    c.getArguments().put(\"crudzilla_transaction_action\",\"join\");\n  }\n  return c;\n}\n\nMap definition = new HashMap();\ndefinition.put(\"reference_id\",crud.util().newUUID());\ndefinition.put(\"last_refresh_timestamp\",crud.util().currentTimeStamp());\ndefinition.put(\"definition_id\",definition_id);\ndefinition.put(\"definition\",attachTransaction(crud.add(\"scriptexecutor_id\",definition_id)).add(\"crudzillaResultSetFormat\",\"bean\").call(getScriptExecutor));\ndefinition.put(\"execution_parameters\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getParameters));\ndefinition.put(\"preexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPreExecutionHandlers));\ndefinition.put(\"postexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPostExecutionHandlers));\ndefinition.put(\"accesscontrols\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getAccessControls));\n\nreturn definition;","name":"generate-scriptexecutor-executable","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":null,"lastModifiedTimeStamp":"1392955679005"},"preexecution_handlers":[],"execution_parameters":[{"id":"e6501528-f484-4f3b-b4fd-bb58ce3bedd8","definitionId":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","required":"no","name":"getParameters","type":"string","validationRegEx":"","defaultValue":"../../nvp-processing/get-execution-parameters.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"4e417194-dead-45e3-bfa1-422775e8bf29","definitionId":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","required":"no","name":"getAccessControls","type":"string","validationRegEx":"","defaultValue":"../../access-control/get-accesscontrols.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"f10f194e-14cc-49ef-a6aa-37c39774f220","definitionId":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","required":"no","name":"getPreExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../pre-execution/get-preexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"c4212e70-d905-4757-864e-580e7cb065b3","definitionId":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","required":"no","name":"getPostExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../post-execution/get-postexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"},{"id":"e7810eac-04a3-482b-a0b9-37f0dfcb94b6","definitionId":"6d2f035b-6bd6-4f2a-8b62-fb767329251d","required":"no","name":"getScriptExecutor","type":"string","validationRegEx":"","defaultValue":"get-scriptexecutor.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"4"}],"reference_id":"ed4373a0-74eb-494c-a59e-4ac1d4b1e9ef","accesscontrols":[]}