{"definition_id":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","last_refresh_timestamp":1392955682986,"postexecution_handlers":[],"definition":{"id":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","code":"import java.util.Map;\nimport java.util.HashMap;\n\ndef attachTransaction(c){\n  Object transaction  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_object\");\n  \n  if(transaction != null){\n    //Object action  = httpRequest.getSession().getAttribute(\"crudzilla_transaction_action\");\n    c.getArguments().put(\"crudzilla_transaction_object\",transaction);\n    c.getArguments().put(\"crudzilla_transaction_\"+transaction.get(\"name\"),httpRequest.getSession().getAttribute(\"crudzilla_transaction_\"+transaction.get(\"name\")));\n    c.getArguments().put(\"crudzilla_transaction_action\",\"join\");\n  }\n  return c;\n}\n\n\nMap definition = new HashMap();\ndefinition.put(\"reference_id\",crud.util().newUUID());\ndefinition.put(\"last_refresh_timestamp\",crud.util().currentTimeStamp());\ndefinition.put(\"definition_id\",definition_id);\ndefinition.put(\"definition\",attachTransaction(crud.add(\"instantiator_id\",definition_id)).add(\"crudzillaResultSetFormat\",\"bean\").call(getInstantiator));\ndefinition.put(\"execution_parameters\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getParameters));\ndefinition.put(\"preexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPreExecutionHandlers));\ndefinition.put(\"postexecution_handlers\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getPostExecutionHandlers));\ndefinition.put(\"accesscontrols\",attachTransaction(crud.add(\"definition_id\",definition_id)).call(getAccessControls));\n\n\nreturn definition;","name":"generate-instantiator-executable","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"yes","requireAllIdentities":null,"lastModifiedTimeStamp":"1392955679139"},"preexecution_handlers":[],"execution_parameters":[{"id":"e3d23354-66a1-40c5-91d6-35f830438260","definitionId":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","required":"no","name":"getParameters","type":"string","validationRegEx":"","defaultValue":"../../nvp-processing/get-execution-parameters.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"7f533219-2048-4f55-aaa9-60aaea5af32c","definitionId":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","required":"no","name":"getAccessControls","type":"string","validationRegEx":"","defaultValue":"../../access-control/get-accesscontrols.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"2a3bf1c7-024a-4de3-9968-32a8c8d46d8b","definitionId":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","required":"no","name":"getInstantiator","type":"string","validationRegEx":"","defaultValue":"get-instantiator.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"8d377766-3981-42ba-823d-0a0bc1b71454","definitionId":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","required":"no","name":"getPreExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../pre-execution/get-preexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"},{"id":"68ba7c54-dd33-472a-baff-f27065240e74","definitionId":"bc4c0d74-a467-41ce-8a6e-9523d3a6142a","required":"no","name":"getPostExecutionHandlers","type":"string","validationRegEx":"","defaultValue":"../../post-execution/get-postexecution-handlers.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"4"}],"reference_id":"0b4ff3df-9971-4515-85f8-de6d7607f076","accesscontrols":[]}