{"definition_id":"4aa60341-a17b-4291-aa79-b3654510d20d","last_refresh_timestamp":1400892565981,"postexecution_handlers":[],"definition":{"id":"4aa60341-a17b-4291-aa79-b3654510d20d","code":"\n  String assetBaseDir = (new File(crud.appBaseDir()+\"/\"+crudzilla.sysSettings().get(\"crudzilla_asset_base\")).getCanonicalPath());\n  //String pageName = \"test\";\n\n  //get page entry crud\n  Object pageEntryTaxonomy = crud.add(\"createPath\",\"false\")\n  \t\t\t\t\t\t\t\t.add(\"taxonomyPath\",\"com/crudzilla/HiveMind/web/html-layout/bookmarks/pages/\"+pageName)\n  \t\t\t\t\t\t\t\t.call(findAppTaxonomy);\n  if(pageEntryTaxonomy != null){\n    crud.add(\"definition_id\",pageEntryTaxonomy.linkId)\n    .call(deleteCrudDefinition);//delete crud definition\n    \n    crud.add(\"id\",pageEntryTaxonomy.id)\n    .call(deleteAppTaxonomy);//remove from taxonomy\n  }\n\n  //delete entry from page list\n  Object pageListEntries = crud.add(\"createPath\",\"false\")  \t\t\t\t\t\t\t\t\n  \t\t\t\t\t\t\t\t.add(\"taxonomyPath\",\"com/crudzilla/HiveMind/web/html-layout/bookmarks/page-list\")\n  \t\t\t\t\t\t\t\t.call(findAppTaxonomy);\n  \n  \n  crud.add(\"definitionId\",pageListEntries.linkId)\n      .add(\"defaultValue\",\"pages/\"+pageName+\".ins\")\n      .call(deleteExecutionParameterByValue);\n\n  try{\n  //delete page entry crud executable\n  new File(assetBaseDir+\"/com/crudzilla/HiveMind/web/html-layout/bookmarks/pages/\"+pageName+\".ins\").delete();  \n  }catch(Exception e){\n    crud.logger().error(e);  \n  }\n\n  //bake the app list to reflect update\n  crud.add(\"relPath\",\"com/crudzilla/HiveMind/web/html-layout/bookmarks/page-list\")\n  .add(\"parent_id\",\"0\")\n  .call(bakeCrud);\n","name":"remove-page","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"no","requireAllIdentities":"no","lastModifiedTimeStamp":"1400892565829"},"preexecution_handlers":[],"execution_parameters":[{"id":"b974656f-d8ef-4360-a36c-7e4f21f446a9","definitionId":"4aa60341-a17b-4291-aa79-b3654510d20d","required":"no","name":"deleteCrudDefinition","type":"string","validationRegEx":"","defaultValue":"/api/primary-execution/crud-definition/delete-crud-definition.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"0"},{"id":"eb94bbb9-8804-4bf1-9a4a-c77a6c4c72f1","definitionId":"4aa60341-a17b-4291-aa79-b3654510d20d","required":"no","name":"deleteAppTaxonomy","type":"string","validationRegEx":"","defaultValue":"/api/app-taxonomy/delete-apptaxonomy.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"1"},{"id":"bca22d6d-f224-4fe9-b1af-95798118a431","definitionId":"4aa60341-a17b-4291-aa79-b3654510d20d","required":"no","name":"findAppTaxonomy","type":"string","validationRegEx":"","defaultValue":"/taxonomy/find-category.ste","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"2"},{"id":"e16c31aa-2a94-421f-866d-1c0e8f23abaf","definitionId":"4aa60341-a17b-4291-aa79-b3654510d20d","required":"no","name":"deleteExecutionParameterByValue","type":"string","validationRegEx":"","defaultValue":"/api/nvp-processing/delete-execution-parameter-by-value.stm","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"3"},{"id":"0ffa9bd7-ec49-4c2f-9328-d06e9f729e53","definitionId":"4aa60341-a17b-4291-aa79-b3654510d20d","required":"no","name":"bakeCrud","type":"string","validationRegEx":"","defaultValue":"/taxonomy/bake-crud.ste","maxLength":"","minLength":"","lineEndLength":"","maxRange":"","minRange":"","dateFormat":"","dateFormatStrict":"no","allowallschemesForURL":"no","allow2slashesForURL":"no","nofragmentsForURL":"no","schemesForURL":"","evalLeft":"no","evalRight":"no","keepAliveCount":null,"isFinal":"yes","position":"4"}],"reference_id":"18cadded-5e5b-44ee-a64a-d6d7aa9bcf2e","accesscontrols":[]}