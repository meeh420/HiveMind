{"definition_id":"41121fe2-3f43-4941-9121-99af1433aa9b","last_refresh_timestamp":1378565108823,"postexecution_handlers":[],"definition":{"id":"41121fe2-3f43-4941-9121-99af1433aa9b","code":"import org.apache.commons.io.FileUtils;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.crudzilla.platform.Crudzilla;\n\nString jettyHome = \"\";\nif(System.getProperty(\"jetty.home\") != null && !System.getProperty(\"jetty.home\").isEmpty())\n  jettyHome = System.getProperty(\"jetty.home\");\nelse\n  jettyHome = crudzilla.sysSettings().get(\"crudzilla_jetty_home\");\n\n\n//String appName = relPath.split('/')[relPath.split('/').length-1];\nString assetBaseDir = new File(crud.appBaseDir()+\"/\"+crudzilla.sysSettings().get(\"crudzilla_asset_base\")).getCanonicalPath();\n\n//File contextFile = new File(jettyHome+\"/contexts/\"+appName+\".xml\");\n\n//update context file, jetty will automatically pickup changes\nnew File(jettyHome+\"/webapps/\"+relPath).delete();\n","name":"undeploy-war","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"no","requireAllIdentities":null,"lastModifiedTimeStamp":"1377111068230"},"preexecution_handlers":[],"execution_parameters":[],"reference_id":"31276e81-0259-4bbf-bf44-cf06863087de","accesscontrols":[]}