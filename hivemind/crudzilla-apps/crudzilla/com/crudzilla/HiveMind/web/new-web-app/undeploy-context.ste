{"definition_id":"43dbc793-e0db-446e-8645-a9b5c65a7f14","last_refresh_timestamp":1378565109131,"postexecution_handlers":[],"definition":{"id":"43dbc793-e0db-446e-8645-a9b5c65a7f14","code":"import org.apache.commons.io.FileUtils;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.crudzilla.platform.Crudzilla;\n\nString jettyHome = \"\";\nif(System.getProperty(\"jetty.home\") != null && !System.getProperty(\"jetty.home\").isEmpty())\n  jettyHome = System.getProperty(\"jetty.home\");\nelse\n  jettyHome = crudzilla.sysSettings().get(\"crudzilla_jetty_home\");\n\n\n//String appName = relPath.split('/')[relPath.split('/').length-1];\nString assetBaseDir = new File(crud.appBaseDir()+\"/\"+crudzilla.sysSettings().get(\"crudzilla_asset_base\")).getCanonicalPath();\n\nFile contextFile = new File(jettyHome+\"/contexts/\"+appName+\".xml\");\ncontextFile.delete();\n","name":"undeploy-context","description":"","crudType":"scriptexecutor","type":"groovy","serverSideOnly":"no","requireAllIdentities":null,"lastModifiedTimeStamp":"1377111096983"},"preexecution_handlers":[],"execution_parameters":[],"reference_id":"a5f5ced5-5726-4418-8df6-29e151194bfb","accesscontrols":[]}