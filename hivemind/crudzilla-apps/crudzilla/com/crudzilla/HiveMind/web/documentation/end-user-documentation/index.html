<!doctype html>  
<!--[if IE 6 ]><html lang="en-us" class="ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en-us" class="ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en-us" class="ie8"> <![endif]-->
<!--[if (gt IE 7)|!(IE)]><!-->
<html lang="en-us"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
    
    <title>Crudzilla Web Application Builder User Guide</title>
    
    
    <link rel="stylesheet" href="css/documenter_style.css" media="all">
    <!-- styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/css/prettyPhoto.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link href="assets/css/flexslider.css" rel="stylesheet">
    <link href="assets/css/sequence.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/color/default.css" rel="stylesheet">

    <script src="assets/js/jquery-1.8.2.min.js"></script>
    <script src="assets/js/jquery.easing.1.3.js"></script>
    <script src="assets/js/google-code-prettify/prettify.js"></script>
    <script src="assets/js/modernizr.js"></script>
    <script src="assets/js/bootstrap.js"></script>
    <script src="assets/js/jquery.elastislide.js"></script>
    <script src="assets/js/sequence/sequence.jquery-min.js"></script>
    <script src="assets/js/sequence/setting.js"></script>
    <script src="assets/js/jquery.tweet.js"></script>
    <script src="assets/js/jquery.prettyPhoto.js"></script>
    <script src="assets/js/application.js"></script>
    <script src="assets/js/jquery.flexslider.js"></script>
    <!-- Portfolio hover -->
    <script src="assets/js/hover/jquery-hover-effect.js"></script>
    <script src="assets/js/hover/setting.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/crudzilla.js"></script>
    <!-- fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
    
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Gravitas+One|Varela' rel='stylesheet' type='text/css'>  

    <style>      
      hr{border-top:1px solid #BEC2AD;border-bottom:1px solid #E9EDD4;}
      #documenter_sidebar, #documenter_sidebar ol a{background-color:#46a4d8;color:#048dd9;}
      
      #documenter_sidebar ol a{border-top:1px solid #048dd9;color:#3D220C;}
      #documenter_sidebar ol a:hover{background:#048dd9;color:#FBFFE4;}
      #documenter_sidebar ol a.current{background:#048dd9;color:#FBFFE4;}
      .list-item-header {font-weight:bold}
      .point-to-note {font-weight:bold;color:red}
    </style>
    
  </head>
  <body>
    
    <div id="documenter_sidebar" style="padding-top:40px">
      
      <ol id="documenter_nav">
        <li><a class="current" href="#documenter_cover">Home</a></li>
        <li><a href="#cwab-ui">Navigating Application Resources</a></li>
        <li><a href="#create-new-app">Creating A New Web App</a></li>
        <li><a href="#crud-ui">Understanding Cruds</a></li>
        <li><a href="#nvp-processing">NVP Processing</a></li>
        <li><a href="#scriptexecutor">ScriptExecutor</a></li>
        <li><a href="#datastatement">DataStatement</a></li>
        <li><a href="#instantiator">Instantiator</a></li>
        <li><a href="#fileuploader">FileUploader</a></li>
        <li><a href="#connector">HttpConnector</a></li>
        <li><a href="#emailsender">EmailSender</a></li> 
        <li><a href="#crud-test">Testing Your Application</a></li> 
        <li><a href="#program-cwab">Programming CWAB</a></li> 
        <li><a href="#data-modeling">Data Modeling</a></li> 
        <li><a href="#backup">Backup</a></li>
        <li><a href="#log-view">Logging</a></li> 
        <li><a href="#configure">Configuring Crud Applications</a></li> 
        <li><a href="#user-profile">User Profile</a></li> 
        <li><a href="#app-startup">Application Startup</a></li> 
        <li><a href="#deploy">Deploying Crud Applications</a></li> 
      </ol>
      <div id="documenter_copyright" style="color:#2f2f2f;text-shadow: 0 1px 0 rgba(204, 204, 204, 0.8);font-family: 'Ubuntu Condensed', cursive;">
        Copyright Crudzilla Software Inc. 2013
      </div>
    </div>
    
    
    <div id="documenter_content">
      <section id="documenter_cover">
        <h1 style="font-family: 'Ubuntu Condensed', sans-serif;text-shadow: 0 1px 0 rgba(204, 204, 204, 0.8);">Crudzilla Web Application Builder (CWAB)</h1>
        <h2 style="font-family: 'Ubuntu Condensed', sans-serif;text-shadow: 0 1px 0 rgba(204, 204, 204, 0.8);">User Guide</h2><hr>
        <p style="font-weight:bold">
          Please read the <a href="../" target="_blank">CWAB technical document</a> before attemping to use this guide. The technical document provides
          an introduction to the CWAB platform and its design.
        </p>
      </section>
      
      <p><img src="../../img/cwab-stack.png"/></p>
      
      <section id="cwab-ui">
        <h2>Navigating Application Resources</h2>
        <p>
          Navigating application resources in the CWAB environment involves navigating file system resources and database resources.<br/>
        </p>
        <p>
          <img src="img/nav-tabs.png"/>
        </p>
        
        
        <div id="app-asset">
          <h5>Apps & Assets</h5>
          <p>
          
          This tab is used for navigating file system resources. Specifically the CWAB developer environment 
          application has an asset directory where all items that can be worked on in the CWAB developer 
          environment are stored. This includes all applications.
          </p>
          <p>
              The actual location of the asset directory is <code>cwab-dist/crudzilla-apps/crudzilla</code>.
          </p>
                    
          <h6>Various Menu Action</h6>
          <p>
          Depending on the type of resource you right-click on, any number of the following actions
          maybe be avaialble in the resulting context menu.
          </p>
          <ul>
            <li><span class="list-item-header">New</span> - creates a new resource
              <ul>
                <li><span class="list-item-header">Folder</span> - create new folder</li>
                <li><span class="list-item-header">Web App</span> - creates a new Java web application</li>
                <li><span class="list-item-header">Web Resource</span> - creates one of the following file types.
                	<ul>
                      <li><span class="list-item-header">Javascript</span></li>
                      <li><span class="list-item-header">Markdown</span></li>
                      <li><span class="list-item-header">Html</span></li>
                      <li><span class="list-item-header">CSS</span></li>
                      <li><span class="list-item-header">XML</span></li>
                      <li><span class="list-item-header">Java</span></li>
                    </ul>
                </li>
                <li><span class="list-item-header">Crud</span> - create one of the following crud types
                  <ul>
                    <li><span class="list-item-header">Instantiator</span></li>
                    <li><span class="list-item-header">DataStatement</span></li>
                    <li><span class="list-item-header">ScriptExecutor</span></li>
                    <li><span class="list-item-header">HttpConnector</span></li>
                    <li><span class="list-item-header">FileUploader</span></li>
                    <li><span class="list-item-header">EmailSender</span></li>
                  </ul>
                </li>
                <li><span class="list-item-header">Application Object</span> - create one of the following
                  <ul>                    
                    <li><span class="list-item-header">NVP Processing Type</span></li>
                    <li><span class="list-item-header">Crud Type</span></li>
                    <li><span class="list-item-header">Data Source</span> - datasource for connecting to database</li>
                    <li><span class="list-item-header">Transaction</span> - create a jdbc transaction</li>
                    <li><span class="list-item-header">CodeMirror Mode</span> - create a new CodeMirror editor mode</li>
                    <li><span class="list-item-header">Logger Config</span></li>
                    <li><span class="list-item-header">Web App</span> - web app configuration object</li>
                    <li><span class="list-item-header">User Identity</span> - user identity object</li>
                    <li><span class="list-item-header">Data Modeling</span> 
                      <ul>
                        <li><span class="list-item-header">Generated Column Type</span></li>
                        <li><span class="list-item-header">DataTable Column</span></li>
                        <li><span class="list-item-header">Generate DataTable</span></li>
                        <li><span class="list-item-header">DataModel</span></li>
                        <li><span class="list-item-header">Generated DataTable Strategy</span></li>
                        <li><span class="list-item-header">DataModel Field</span></li>
                        <li><span class="list-item-header">Generate Columns</span></li>
                        <li><span class="list-item-header">DataTable</span> </li>
                      </ul>
                    </li>
                  </ul>                    
                </li>                
              </ul>
            </li>
            
            <li><span class="list-item-header">Add</span> - upload a file to the asset directory</li>
            <li><span class="list-item-header">Copy</span> - copy an item in the asset directory</li>
            <li><span class="list-item-header">Paset</span> - paste an item in the asset directory</li>
            <li><span class="list-item-header">Rename</span> - Rename an item in the asset directory</li>
            <li><span class="list-item-header">Delete</span> - Delete an item in the asset directory</li>
            <li><span class="list-item-header">Refresh</span> - Refresh an item in the asset directory, when it is a a folder the following options are available
              <ul>
                <li><span class="list-item-header">Instantiator</span> - refresh only Instantiators</li>
                <li><span class="list-item-header">DataStatement</span> - refresh only DataStatements</li>
                <li><span class="list-item-header">ScriptExecutor</span> - refresh only ScriptExecutors</li>
                <li><span class="list-item-header">HttpConnector</span> - refresh only HttpConnectors</li>
                <li><span class="list-item-header">FileUploader</span> - refresh only FileUploader</li>
                <li><span class="list-item-header">EmailSender</span> - refresh only EmailSenders</li>
                <li><span class="list-item-header">All</span> - refresh all cruds regardless of type</li>
              </ul>          
            </li>
            <li><span class="list-item-header">Delete Web App</span></li>
            <!--<li><span class="list-item-header">Sync</span> - syncs crud</li>-->
            <li><span class="list-item-header">Clone Tree</span> - opens a new tab with a clone of the asset directory try for easy drag-n-drop</li>
            <li><span class="list-item-header">Backup</span> - add item to backup</li>
            <li><span class="list-item-header">To Source</span> - transform crud to source form for editing</li>
              
            <li><span class="list-item-header">View</span> - view html/crud in wysiwyg editor</li>
            <li><span class="list-item-header">Test</span> - runs a test</li>
            <li><span class="list-item-header">Build</span> - builds a build.xml file</li>              
          </ul>          

        </div>
        
        <div id="crudbase">
          <h5>The Crudbase</h5>
          <p>
          This tab is for navigating the crud database. All crud definitions are stored in a database and 
          all alterations to crud definitions are against this database. This database has a
          taxonomy layered on top of it which allows for interacting with, and manipulation of the
          crud database in a manner similar to a filesystem. In other words the items on this
          tab are not on the file system but in a database.
          </p>
          <p>
            This is an embeded derby database <code>cwab-dist/derby/crudzilla</code>
          </p>
          
          <h6>Various Menu Action</h6>     
          <p>
          Depending on the type of resource you right-click on, any number of the following actions
          maybe be avaialble in the resulting context menu.
          </p>          
        
          <ul>
            <li><span class="list-item-header">New</span> - create one of the following
              <ul>
                <li><span class="list-item-header">Category</span> - create a taxonomy category node</li>
                <li><span class="list-item-header">Instantiator</span></li>
                <li><span class="list-item-header">DataStatement</span></li>
                <li><span class="list-item-header">ScriptExecutor</span></li>
                <li><span class="list-item-header">HttpConnector</span></li>
                <li><span class="list-item-header">FileUploader</span></li>
                <li><span class="list-item-header">EmailSender</span></li>
                <li><span class="list-item-header">Application Object</span> - create one of the following
                  <ul>                    
                    <li><span class="list-item-header">NVP Processing Type</span></li>
                    <li><span class="list-item-header">Crud Type</span></li>
                    <li><span class="list-item-header">Data Source</span> - datasource for connecting to database</li>
                    <li><span class="list-item-header">Transaction</span> - create a jdbc transaction</li>
                    <li><span class="list-item-header">CodeMirror Mode</span> - create a new CodeMirror editor mode</li>
                    <li><span class="list-item-header">Logger Config</span></li>
                    <li><span class="list-item-header">Web App</span> - web app configuration object</li>
                    <li><span class="list-item-header">User Identity</span> - user identity object</li>
                    <li><span class="list-item-header">Data Modeling</span> 
                      <ul>
                        <li><span class="list-item-header">Generated Column Type</span></li>
                        <li><span class="list-item-header">DataTable Column</span></li>
                        <li><span class="list-item-header">Generate DataTable</span></li>
                        <li><span class="list-item-header">DataModel</span></li>
                        <li><span class="list-item-header">Generated DataTable Strategy</span></li>
                        <li><span class="list-item-header">DataModel Field</span></li>
                        <li><span class="list-item-header">Generate Columns</span></li>
                        <li><span class="list-item-header">DataTable</span> </li>
                      </ul>
                    </li>
                  </ul>                    
                </li>
              </ul>          
            </li>
            <li><span class="list-item-header">Add Crud</span> - show search tab for search and drag-n-drop of cruds.</li>
            <li><span class="list-item-header">Clone Tree</span> - clone crudbase tree for easy drag-n-drop operations.</li>            
            <li><span class="list-item-header">Rename</span> - rename category or crud</li>
            <li><span class="list-item-header">Delete</span> - delete category or crud</li>
            <li><span class="list-item-header">Bake</span> - bake a crud/category of cruds, ie make a crud definition executable.</li>
            <li><span class="list-item-header">Clone</span> - clone this crud</li>
            <li><span class="list-item-header">Bake</span> - baking turns a crud definition in the crudbase to an executable file on disk.</li>
            <li><span class="list-item-header">Delete</span> - delete crud from taxonomy and crudbase</li>
            <li><span class="list-item-header">Test</span> - test crud</li>
            <li><span class="list-item-header">Unlink</span> - remove crud from taxonomy but don't delete from crudbase.</li>
          </ul> 
          <p>
            <span class="point-to-note">Note</span> that all actions in the crudbase should happen in the context of an application.
            Meaning categories and cruds you create and manipulate must ultimately be along a valid
            application path that mirrors the application path in the asset directory.
          </p>
          <p>
            Creating cruds and categories that don't map to an existing application is likely to create
            problems because the CWAB platform assumes all cruds belong to an application.
          </p>
          
        </div>
      </section>
      
      <section id="create-new-app">
          <h2>Creating A New Web App.</h2>
        <img src="img/new-app.png"/>
        
          <ul>
            
            <li>
              If you want authentication tables to be generated for this app then check the box.              
              Checking this box will enable authentication for your new app. The directory <code>secure</code> in your new
              app directory is the default secure directory of your application. You can edit your
              <code>web.xml</code> file to chose different security settings.<br/><br/>
              
              The default login is <code>developer/developer</code>
            </li>
            
            <li>
              <p>You have two database choices when setting up authentication</p>
              <ul>
                <li>
                	You may specify a datasource for an already existing database.
                  
                    <p>
                        If you want to use a database such as mysql, oracle..etc, you'll need to first define a 
                        DataSource object.                      
                    </p>
                    <p>
                        To create a DataSource object for your application, because your application doesn't exist
                        yet and all cruds are required to be executed within the context of an application, you'll
                        need to create the initial DataSource object under <code>com/crudzilla/HiveMind/web/datasources</code>. 
                      	<code>Right-click on this folder==>New==>Application Object==>DataSource.</code>
                        This would allow the DataSource object, which is an Instantiator, to be
                        invoked in the context of the developer application.  After the app is created you'll have to move
                        the DataSource object to an appropriate location in your new Application <code>web</code> folder.                      
                    </p>
                    <p>
              			If you have created a DataSource object for your new application, then darg-n-drop
              			a refrence on the form above. <span class="point-to-note">Note</span> that this Database must already exist.
                    </p>
                </li>
                <li>
                    You may choose to have CWAB create a Database for you.
         			If you choose to create a database, then an embeded derby database is created,
                	this database would not require authentication. See derby documentation for details.        
                 </li>
              </ul>
              
            </li>
            
            
            <li>
              If you only specify a name and no DataSource, the App would be generated without authentication enabled.
              You'll then need to manually enable authentication via edit of <code>web.xml</code> and <code>cwab-dist/etc/&lt;APP-NAME&gt;.jdbc.properties</code>
            </li>
          </ul>
        
       	  <p>
            <span class="point-to-note">Note:</span> Creating a new app currently can take up to a minute or two. This is because taxonomy
            operations that include generating boilerplate artifacts are inherently inefficient. Future improvements will be made to make this process
            a bit faster. This should however not be a problem given that creating new apps is not a
            frequent occurence.
          </p>
        
          <p>
            When the app is created, a set of file system assets are created. Crudbase items are also created
            and the taxonomy path of these items follows their file system counterparts. You may need to refresh
            the CWAB developer environment application to see the changes in the taxonomy. Again you should note that
            Crudbase taxonomy structure should mirror file system layout of your application. This means
            when you create cruds, they will be automatically placed in the right location on the file system when they are baked.
          </p>
      </section>
      
      <section id="crud-ui">
        <h2>Understanding Cruds</h2>
        <p>
          As outlined in the <a href="../" target="_blank">technical document</a>, cruds are
          the fundamental constructs that the CWAB platform operates on. They are the executables that
          power CWAB based applications. Crud definitions, which you can edit, are stored in the crudbase.
          When you save changes to crud definitions, they are "baked", meaning a JSON formatted executable
          file is created in the asset directory in a location that mirrors the taxonomy path of the
          crud definition.          
        </p>
        <p>
          The crud construct is supported by the following tabbed-based ui layout.
        </p>
        <p>
          <img src="img/crud-ui.png"/>
        </p>
        <p>
          We'll examine the various tabs and learn how to use them.
        </p>
        
        
        <h5>PreExecution</h5>
        <p>
          PreExecution handlers are actions you want to happen before the primary action of the current crud can be executed.
          This occurs after security checks and NVP processing has been applied.
        </p>
        <img src="img/preexecution.png"/>
        <ul>
          <li>
            <span class="list-item-header">Enable</span> - check this to enable this handler. If unchecked, this handler is ignored and not
            invoked.
          </li>
          <li>
            <span class="list-item-header">Drop reference here</span> - drag-n-drop the crud you wish to execute as part of the PreExecution process, this is optional depending on argument propagation options.
          </li>
          <li>
            <span class="list-item-header">Require True</span> - check this if the handler crud invoked is required to return the value
            "true". If any other value is returned, then the primary crud execution would terminate and return
            the value.
          </li>
          <li>
            <span class="list-item-header">Argument Propagation Mode</span> - This controls how the argument map is propagated across crud invocations.
            <ul>
              <li>
                <span class="list-item-header">pass map</span> - selecting this passes the current map as a reference, 
                meaning the current map could be altered by the handler crud invoked.
              </li>
              
              <li>
                <span class="list-item-header">pass all map values</span> - selecting this propagates all values of the
                current argument map but not the map itself. The current map would not be altered
                by the handler crud invoked. <span class="point-to-note">Note</span>, for values that are Java objects, they could be
                altered by the handler crud invoked.
              </li>
              <li>
                <span class="list-item-header">pass some map values</span> - selecting this allows you to specify an Instantiator that will return
                the name/value of the argument map values that will be propagated. This is a way to restrict
                which current argument map values are propagated to the handler crud invoked.
              </li>             
              <li>
                <span class="list-item-header">pass none</span> - selecting this passes none of the current argument map's entries to the handler crud 
                invoked.
              </li>
            </ul>
          </li>

          
          <li>
            <span class="list-item-header">Return Mode</span> - The value selected determines what to do with return value.
            <ul>
              <li>
                <span class="list-item-header">Ignore Return</span> - selecting this would ignore the return value of the handler crud invoked.
              </li>
              <li>
                <span class="list-item-header">Save Return As Variable</span> - Put return value from handler crud invoked on argument map.
                When selected, a field called "Save Return As Variable" is visible. Specify a variable name to be added to the current argument map that
                represents the return value of the handler crud invoked. The name can then be used in all
                places where argument map variables can be referenced.
                
              </li>
              <li>
                <span class="list-item-header">Explode</span> - selecting this, explodes the result of the handler crud invoked on the
                argument map. <p>When this is
                selected, a field called "Selected Properties" would be visible, this is a reference to an
                Instantiator that would return the set of properties from the returned result to explode
                onto the current argument map. If the selected field isn't specified, all properties would
                be exploded.</p>
                
                <p>
                  <span class="point-to-note">Note</span> that the return value of the handler crud invoked should be an object, in other
                    words not a list.
                </p>                
              </li>              
            </ul>
          </li>          
          
        </ul>
        
        <h5>PostExecution</h5>
        <p>
          PostExecution handlers are actions you want to happen after the primary action of the current crud has been executed.
          You can return the result from these handlers as your final return values instead of the
          results from the primary action.
        </p>        
        <img src="img/postexecution.png"/>
        <ul>
          <li>
            <span class="list-item-header">Enable</span> - check this to enable this handler. If unchecked, this handler is ignored and not
            invoked.
          </li>
          <li>
            <span class="list-item-header">Drop reference here</span> - drag-n-drop the crud you wish to execute as part of the PreExecution process.
          </li>  
          <li>
            <span class="list-item-header">Argument Propagagtion Mode</span> - same as in PreExecution
          </li>
          <li>
            <span class="list-item-header">Return Mode</span> - The value selected determines what to return as the return value of the primary crud.
            <ul>
              <li>
                <span class="list-item-header">Ignore Return</span> - selecting this would ignore the return value of the handler crud invoked.
              </li>
              <li>
                <span class="list-item-header">Return As Primary</span> - selecting this returns the result of the handler crud invoked as the
                overall result of the primary crud invocation.
              </li>
              <li>
                <span class="list-item-header">Append To Primary</span> - selecting this, appends the result of the handler crud invoked as a
                property of the primary result object of the primary crud invocation. When this is
                selected, a field called "Append As Primary Variable" would be visible to name the
                property to be appended.
              </li>
              <li>
                <span class="list-item-header">Append Primary</span> - selecting this, appends the primary result of primary crud to the result
                of the handler crud invoked. When this is selected, a field called 
                "Append As Primary Variable" would be visible to name the property to be appended.
              </li>
              <li>
                <span class="list-item-header">Return Variable</span> - selecting this allows you to specify the name of a property on the
                argument map that should be returned as the primary result of the primary crud invocation.
                When this is selected, a field called "Return Variable" would be visible to 
                name the property to be returned.
              </li>
              
              <li>
                <span class="list-item-header">Save Return As Variable</span> - Put return value from handler crud invoked on argument map.
                When selected, a field called "Save Return As Variable" is visible. Specify a variable name to be added to the current argument map that
                represents the return value of the handler crud invoked. The name can then be used in all
                places where argument map variables can be referenced.
                
              </li>              
              
              <li>
                <span class="list-item-header">Explode</span> - selecting this, explodes the result of the handler crud invoked on the
                argument map. 
                <p>When this is
                selected, a field called "Selected Properties" would be visible, this is a reference to an
                Instantiator that would return the set of properties from the returned result to explode
                onto the current argument map. If the selected field isn't specified, all properties would
                  be exploded.</p>
                
                <p>
                  <span class="point-to-note">Note</span> that the return value of the handler crud invoked should be an object, in other
                    words not a list.
                </p>
              </li>              
            </ul>
          </li>
        </ul>
        <h6>Error Handlers</h6>
        <p>
          Error handlers are a special type of PostExecution handler, if an error occurs and there
          is an enabled error handler, that handler would be invoked as the last action.          
        </p>
        <p>
          <img src="img/error-handler.png"/>
        </p>
        <p>
          The argument map would have an ErrorWrapper object <code>crudError</code>
          with the following properties
        </p>
        <ul>
            <li><span class="list-item-header">exception</span> - Java Exception object. 
              can be null if error wasn't due to an exception.
            </li>
            <li><span class="list-item-header">errorType</span> - Error type can be of the following values
              <ul>
                <li><span class="list-item-header">access-control</span> - when access fails to be granted</li>
                <li><span class="list-item-header">parameterization-validation</span> - when parameter validation fails</li>
                <li><span class="list-item-header">primary</span> - when an error occured during primary action, this could be an error in 
                  scripts, check exception log for further details.
                </li>
              </ul>
          	</li>
          <li>
            <span class="list-item-header">errorSource</span> - attempts to give a clue as to where in the crud execution the error occured.
            The values can be one of the following
            <ul>
              <li><span class="list-item-header">validation</span> - during parameter validation</li>
                <li><span class="list-item-header">primary</span> - during primary action execution</li>
            </ul>
          </li>
        </ul>
        
        
        
        <h5>Execution</h5>
        <p>
          This tab represents the primary action of a crud. What is shown on this tab depends on the crud type.
          For instance here we have a ScriptExecutor crud. <br/>         
          <img src="img/execution.png"/><br/>
          See the various crud type sections for details.
        </p>
        
        <h5>Parameters & Validation</h5>
        <p>
          This tab supports the NVP Processing for the primary crud. 
          Please see section on NVP Processing for details.
        </p>
        
        <h5>Security</h5>
        <p>
          You can restrict access to a crud by user or by role. When user is specified then 
          <code>httpRequest.getUserPrincipal.getName</code> must be equal to the user name.
          If role is specified then <code>httpRequest.isUserInRole</code> must return true when given the role name.
          If both user name and role is specified then both must pass for access to be granted.
        </p>
        <img src="img/security.png"/>
        <ul>
          <li>
            <span class="list-item-header">Sever side only</span> - check this if you only want this crud to be invoked from server-side operations,
          for instance by other cruds. This would prevent this crud from being invoked directly from a browser.
          </li>
          <li>
            <span class="list-item-header">Require All Roles</span> - check this if you want all user identity entries to be evaluated.
            This will require the user to have all the roles listed, otherwise access isn't granted.
          </li>          
          
          <li>
          <span class="list-item-header">User Identity</span> - drop a refrences to a user identity object. You can have as many identity entries.
          Any entry to this list, automatically implies authentication is required. So for instances you can drop
          a user identity crud whose user and role entries are blank to indicate that only authentication
          is required.
          </li>
        </ul>
        
      </section>
      
      <section id="nvp-processing">
        <h2>Name-Value-Pair (NVP) Processing</h2>
        <img src="img/nvp.png"/>
        <ul>
          <li>
            <span class="list-item-header">Name</span> - The name of the parameter.
          </li>
          <li>
            <span class="list-item-header">Required</span> - If checked, this parameter would be required on the argument map during execution of
            the primary crud. If it is missing an error would be returned and execution of the crud 
            terminated.
          </li>
          <li>
            <span class="list-item-header">Final</span> - If checked, this paramater's default value cannot be overwriten by a supplied
            value. This is good for holding configuration that you don't want users to alter.
          </li>
          <li>
            <span class="list-item-header">Type</span> - This represents the parameter type. If default value doesn't conform to the format
            of this type, an error may be returned.
            <ul>
              <li><span class="list-item-header">crud</span> - if you choose to evaluate a crud type, the value should be a path that is either 
                relative to the primary crud or an absolute path in relation to the application 
                crud home directory. In other words an absolute path isn't an absolute file system path
                but rather a path that starts with <code>/</code> relative to the application's crud home
                directory, specifically the directory pointed to by the servlet init parameter <span class="list-item-header">app-home</span>.
              </li>
              <li><span class="list-item-header">json</span> - if you choose to evaluate a json value, you may parameterize fields by 
                 prefixing them with <code>:crudzilla_param&lt;PARAMETER-NAME&gt;</code> where 
                  <code>&lt;PARAMETER-NAME&gt;</code> is the name of the parameter whose value should be
                  used to initialize the given json field. <code>&lt;PARAMETER-NAME&gt;</code> doesn't need to be declared, it only needs to be on the argument map.
              </li>
              
              <li><span class="list-item-header">plain-text</span> - if you choose to evaluate a plain text value,
                string interpolation would be performed. ie CWAB would look for and evaluate occurences of <code>#{&lt;EXPRESSION&gt;}</code> where 
                  <code>&lt;EXPRESSION&gt;</code> is any Java style expression, including variable access.
              </li>              
              
            </ul>
          </li>
          <li>
            <span class="list-item-header">Validation</span> - Click on this to reveal the various validation options. The validation options
            are dependent on the type. Validation error codes are defined in <code>crudzilla-app-settings/validation-error-definitions</code>.
            To see the error message structure simply run a test with the test console.
          </li>
          <li>
            <span class="list-item-header">Default Value</span> - This is the default value for the parameter. Depending on the type, the edit button
            may be used to edit the data.
          </li>
          <li>
            <span class="list-item-header">Eval (l/r)</span> - This option controls evaluation of the parameter name/value pair. If the first
            checkbox is checked, the Name field is assumed to be an assignment expression to be evaluated, for
            instance to assign the value to an array index. If the second checkbox is checked, the Default Value is 
            assumed to be an expression to be evaluated.             
            <p>
            Expression evaluation includes crud invocations, in other words to invoke a crud and use the result as
            the value of a parameter, you must specify a type of "crud" and check the second box.
            </p>
            
            <p>
            Similarly, to allow for json evaluation, a type of "json" must be specified and second box
            checked.
            </p>
            <p>
              In general you can specify any Java style expression to be evaluated.
            </p>
          </li>
        </ul>
        
        <h5>Generative Parameter Values</h5>
        <p>
          These are built-in generative constructs. When you use them as a value for a parameter
          and evaluate them, their values would be generated.
        </p>
        <ul>
          <li><span class="list-item-header">crudzilla_next_insert_id</span> - when used as a parameter expression or in a DataStatement,generates a uuid, this would be used mostly in DataStatements to generate ids.</li>
          <li><span class="list-item-header">crudzilla_last_insert_id</span> - this has the value of the most recently generated uuid and can be accessed from the argument map.</li>
          <li><span class="list-item-header">crudzilla_generate_uuid</span> - generates a uuid.</li>          
          <li><span class="list-item-header">crudzilla_current_timestamp</span> - when used as a parameter expression or in a DataStatement, generates current time stamp in utc.</li>
          <li><span class="list-item-header">crudzilla_current_timestamp_seconds</span> - when used as a parameter expression or in a DataStatement, generates current time stamp in utc in seconds.</li>
          <li><span class="list-item-header">crudzilla_current_timestamp_minutes</span> - when used as a parameter expression or in a DataStatement, generates current time stamp in utc in minutes.</li>
          <li><span class="list-item-header">crudzilla_empty_string</span> - generate an empty string, by default if a value isn't specified for a parameter, its value is null.</li>
          <li><span class="list-item-header">crudzilla_user</span> - returns the user name of currently logged-in user, can be accessed from argument map.</li>
        </ul>
        
        <h5>Variable Selection</h5>
        <p>
          Variable selection is a mechnism that allows a parameter to get its value from another parameter
          selected based on a switch value. An example of a variable switch value would be the value <code>qa</code> to indicate
          that the parameter should get its value for the QA environment.
        </p>        
        <p>
          Variable selection can be setup globally via <code>crudzilla-app-settings/system-settings</code> with
          an entry for parameter <code>crudzilla_variable_selector_switches</code>, or locally.
        </p>
        <p>
          To setup variable selection.
        </p>
        <ul>
          <li>
            <p>
              By default your <code>crudzilla-app-settings/system-settings</code> should have a global
              switch setup.
            </p>
            <p>
            	<img src="img/variable-switch-sys-setting.png"/>
            </p>
            
            <p>
              <code>crudzilla_variable_selector_switches</code> points to the global application-wide switches
              <code>crudzilla-app-settings/variable-switches</code> and typically would look something like this.              
            </p>
            <p>
              <img src="img/app-variable-switches.png"/>
            </p>
            <p>
              Each entry represents a switch whose value would determine the value of selector parameters whose
              value depend on this switch. So for instance a parameter's value may depend on whether the language
              is English or French..etc
            </p>
          </li>
          <li>
            Set the value of the parameter whose value you wish to set based on a switch to 
            <code>crudzilla_selector_&lt;SWITCH-PARAMETER-NAME&gt;</code> 
            where 
            <code>&lt;SWITCH-PARAMETER-NAME&gt;</code> is a parameter that holds the switch value, in other
            words this parameter is the switch variable.
            For instance <code>&lt;SWITCH-PARAMETER-NAME&gt;</code> could contain one of the following values:
            <ul>
                <li>dev</li>
                <li>qa</li>
                <li>uat</li>
                <li>prod</li>
            </ul>
            <p>
              <span class="point-to-note">Note</span> that this parameter is an expression thus you should check the right expression box.
            </p>
            <p>
              CWAB would first look on the current argument map for <code>&lt;SWITCH-PARAMETER-NAME&gt;</code>,
              if it isn't found, then it will look at the application settings for the object
              <code>crudzilla_variable_selector_switches</code>. This object should have the application
              level switches.
            </p>
          </li>
          <li>
            <p>
            After obtaining a switch value, CWAB uses a prefix pattern to get the parameter's correct value.
            </p>
            <p>
            What this means is that CWAB would look at the argument map for the value of a parameter
            called <code>&lt;SWITCH-VALUE&gt;_&lt;CURRENT-PARAMETER-NAME&gt;</code>.
            </p>
            <p>
              <code>&lt;SWITCH-VALUE&gt;</code> is the value obtained from the parameter with name <code>&lt;SWITCH-PARAMETER-NAME&gt;</code>.
              <code>&lt;CURRENT-PARAMETER-NAME&gt;</code> is the name of the current parameter being evaluated.
            </p>
          </li>
          <li>
            <p>
              Variable selection may be setup locally, meaning without using the <code>crudzilla-app-settings/system-settings</code>
              <code>crudzilla_variable_selector_switches</code> entry.
            </p>
            <p>
               Local setup is similar to global setup except the <code>&lt;SWITCH-PARAMETER-NAME&gt;</code> would be
              on the current argument map.
            </p>
            <p>
            	<img src="img/variable-switch-local.png"/>
            </p>
            <p>
              Above, the parameter <code>databaseUrl</code> at run time would be set to the value of the parameter <code>qa_databaseUrl</code>, which
              is the value <code>localhost:3306/db1</code>.
            </p>
            <p>
              If the switch variable parameter <code>environment</code> had been set to the value <code>dev</code> then the resulting value would have been
              <code>localhost/derby</code> which is the value of the selected parameter <code>dev_databaseUrl</code>.
            </p>
          </li>
        </ul>
        
        
        <h5>Assigning Parameters to other Parameters</h5>
        <p>
        To assign a parameter to another, set the value of the parameter to 
        <code>:&lt;SOURCE-PARAMETER-NAME&gt;</code> and enable expression evaluation.
        </p>
        <p>
          <span class="point-to-note">Note</span> that the <code>&lt;SOURCE-PARAMETER-NAME&gt;</code> must be already on
          the argument map, meaning it must be listed before the current parameter.
        </p>
        
        <p>
        <span class="point-to-note">Note:</span> Parameters are processed in the order they are listed (ie sequentially) so parameters that depend on the
        value of other parameters must be listed below those depended upon parameters.
        </p>
        
        <p>
        <span class="point-to-note">Note</span> that all parameters that are expressions must be final by default in order
        for parameter expressions to be evaluated. This is for security reasons, it prevents user
        supplied values from being evaluated. To override this behaviour see the configuration section.
        </p>
      </section>    
      
      <section id="scriptexecutor">
        <h2>ScriptExecutor</h2>
        <img src="img/scriptexecutor.png"/>
        <p>
          Above shows the code editor for a crud, the code editor depends on the language of the ScriptExecutor.
          When creating a ScriptExecutor, depending on the type you may have the choice to create a
          file on the disk. For instance velocity templates can be loaded from file sytem or the template
          may be provided dynamically.          
        </p>
        <p>
          When code is loaded from file, cruds are still the entry point to the code, in other words
          you can't invoke a velocity template directly, you must invoke the corresponding ScriptExecutor.
          
        </p>
        
        <p>
			ScriptExecutor cruds have a number of native objects available to scripts.
        </p>
        <ul>
          <li><span class="list-item-header">crud</span> - 
            This object is used for invoking other cruds. It has the following methods:
            <ul>
              <li><span class="list-item-header">add</span></li>
              <li><span class="list-item-header">call</span></li>
              <li><span class="list-item-header">logger</span> - see section on logging</li>
            </ul>
            <p>
              The usage syntax of the crud object when calling other cruds is as follows: <code>crud.[add(&lt;parameter-name&gt;,&lt;parameter-value&gt;).]*call(&lt;crud-path&gt;[,&lt;arguments-partial-clone&gt;]);</code>
            </p>
            <ul>
              <li>
              	<span class="list-item-header">crud-path:</span> this is either a relative or absolute path of a crud, relative to the application crud directory.
              </li>
              <li>
                <span class="list-item-header">arguments-partial-clone:</span> This is a HashMap object to be passed as an argument map for the call. If this argument is supplied, the parameters added via an add call will be ignored.
              </li>
            </ul>

          </li>
          <li>
            <span class="list-item-header">crudzilla</span> - 
            This is an object that represents the current instance of the CWAB execution engine. It should not be used by a developer. future use maybe.
          </li>
          <li>
            <span class="list-item-header">httpRequest</span> - 
            HttpServletRequest object
          </li>
          <li>
            <span class="list-item-header">httpResponse</span> - 
            HttpServletResponse object
          </li>
          <li>
            <span class="list-item-header">arguments</span> - 
            Argument map as described above
          </li>
          <li>
            <span class="list-item-header">crudzilla_user</span> - 
            currently logged in user, if any
          </li>
        </ul>    
        
        <p>
          The file extension of ScriptExecutor is "ste".
        </p>
      </section>
      
      <section id="datastatement">
        <h2>DataStatement</h2>
        
        <h5>Template</h5>
        This tab contains the sql editor for entering an sql template. This template can include parameter
        specifications.      
        <ul>
          <li>
            <span class="list-item-header">DataSource</span> - Drop DataSource definition object reference here. You can create a DataSource
            object from the DataSource menu. The DataSource types are <code>jndi</code>,<code>jdbc-driver</code>,<code>datasource</code>.
            If the <code>datasource</code> type is specified, then it is assumed to represent a <code>javax.sql.DataSource</code>
            instance.
          </li>
          <li>
            <span class="list-item-header">DataModel Reference</span> - This is a list of DataModel References to be used by the sql in this
            DataStatement. Please see section on DataModeling for a detailed 
            description of this technology.
          </li>
          <li>
            <span class="list-item-header">Transaction</span> - An object that represents a JDBC transaction. Create a transaction by right-clicking
            and selecting JDBC Transaction from the Crud Type submenu.
            
            <ul>
              <li><span class="list-item-header">none</span> - do nothing</li>
              <li><span class="list-item-header">start</span> - when selected, this DataStament would start a new transaction identified by the
                transaction object.
              </li>
              <li>
                <span class="list-item-header">join</span> - when selected, this DataStatement looks for the specified transaction and joins it.  
              </li>
              <li>
                <span class="list-item-header">commit</span> - when selected this DataStatement joins the specified transaction and commits the
                transaction after execution.
              </li>
            </ul>
          </li>
          
          <li>
            <span class="list-item-header">Dynamic Sql</span> - A velocity template crud that contains the dynamic sql. When this is specified, the
            sql in the editor of this DataStatement is will not be executed directly.
            
            
			<p>
              When using dynamic sql, the parameter <code>crudzilla_dynamic_sql_resultset_template</code> 
            must be set, this should follow the format of the "Compiled" sql...see the "Compiled"
            tab of a non-dynamic sql DataStatement for an example of what a resultset template 
            must look like.
            </p>
            <p>
    		If SQL is entered in the editor for a DataStatement, it will be available as 
              a parameter <code>crudzilla_prepared_dynamic_sql_statement</code>.
            </p>
          </li>
          <li>
            <span class="list-item-header">ResultSet Processor</span> - A ScriptExecutor crud that processes the JDBC ResultSet object that result
            from running this DataStatement.
            
			<p>
            This is an advanced capability which gives the developer full control 
            over the processing of the resultset from an executed query. The resultset is 
            available on the argument map as <code>crudzilla_datastatement_resultset</code>, 
            this is a JDBC resultset object type.   
            </p>
          </li>
          
        </ul>
        <img src="img/datastatement.png"/><br/>
        
        <h5>Compile</h5>
        
        <p>
        This tab shows the compiled sql in the Template tab. All parameters are extracted and replaced with
        placeholders (?).
        This tab shows the Parameter List expected by this DataStatement and the ResultSet Template if
        this DataStatement returns values.
        </p>
        The platform parameter <code>crudzillaResultSetFormat</code> is available for use with DataStatements. The value 
        can be one of the following:
        <ul>
          <li><span class="list-item-header">bean</span> - to return the result as a single object</li>
          <li><span class="list-item-header">list</span> - return result as a list. This is the default</li>
          <li><span class="list-item-header">decorated</span> - return the result with column information. The resulting object has the form
            <code>{"columns":[{"name","type"}],"rows":[{}]}</code>.
          </li>
        </ul>
        
        <p>
        	<img src="img/datastatement-1.png"/>
        </p>
        
        
		<p>
          DataStatements also support the platform parameter <code>crudzillJavaLangClass</code>. 
          Set this to the fully qualified Java class name if you want the resulting 
          data to be converted to a Java bean of the specified class type.
        </p>
        <p>
          The platform parameter <code>crudzilla_default_datasource</code> should be set as part 
          of <code>crudzilla-app-settings/system-settings</code> to specify a default data source for 
          newly created DataStatements. This would be automatically filled in whenever a
          new DataStatement crud is created. Most business applications only have a single
          data source, so this would save the developer a few extra clicks.
        </p>
        
        
        <h5>Parameter Type Hinting</h5>
<p>
  DataStatements support type hinting, this is useful for RDMSs that have strict type 
  requirements for prepared statement parameters. To specify a type simply enclose the 
  type in parenthesis following the parameter name. 
  The syntax is as follows: <code>:&lt;PARAMETER-NAME&gt;(&lt;SQL/Java-Type&gt;)</code>

	When a type hint is supplied with a specified parameter, 
  the following additional parameters may be supplied.
</p>
  
 <ul>
   <li>For types: BINARY, VARBINARY, LONGVARBINARY,CLOB,BLOB
  <ul>
    <li>
      Base64
      <ul>
        <li>
          crudzilla_base64_format_&lt;PARAMETER-NAME&gt;_linelength
        </li>
        <li>
          crudzilla_base64_format_&lt;PARAMETER-NAME&gt;_lineseparator
        </li>
        <li>
          crudzilla_base64_format_&lt;PARAMETER-NAME&gt;_urlsafe
        </li>
      </ul>
    </li>
    <li>
      Base32
      <ul>
        <li>
          crudzilla_base32_format_&lt;PARAMETER-NAME&gt;_linelength
        </li>
        <li>
          crudzilla_base32_format_&lt;PARAMETER-NAME&gt;_lineseparator
        </li>
        <li>
          crudzilla_base32_format_&lt;PARAMETER-NAME&gt;_urlsafe
        </li>
      </ul>
    </li>
    <li>
      Binary
    </li>
    <li>
      Hex
      <ul>
        <li>
          crudzilla_hex_format_&lt;PARAMETER-NAME&gt;_charset
        </li>
      </ul>
    </li>
     </ul>
   </li>
    <li>
      DATE
      <ul>
        <li>crudzilla_date_format_&lt;PARAMETER-NAME&gt;</li>
      </ul>
    </li>
    <li>
      TIME
      <ul>
        <li>crudzilla_time_format_&lt;PARAMETER-NAME&gt;</li>
      </ul>
    </li>
    <li>
      TIMESTAMP
      <ul>
        <li>crudzilla_timestamp_format_&lt;PARAMETER-NAME&gt;</li>
      </ul>
    </li>
  </ul> 

  <h6>BLOB,CLOB</h6>
<p>
you may also upload files in place of data for these types, so for instance you may call a DataStament in a multipart http request that includes an image file to be stored in a blob.

The types supported are either Java types or SQL types, in other words JDBC types.  
  </p>
        
        
<h5>Transactions</h5>
<p>
  You must specify a unique name for your transaction object. The name must follow the java
  identifier naming syntax. A running transaction can be accessed on the argument map as
  <code>crudzilla_transaction_&lt;TRANSACTION-NAME&gt;</code> where 
  <code>&lt;TRANSACTION-NAME&gt;</code> is the unique name of the transaction.
</p>
        
<p>
      The <code>crudzilla_transaction_&lt;TRANSACTION-NAME&gt;</code> object has properties
</p>
<ul>
  <li>
    <span class="list-item-header">transaction</span> - a reference to the raw transaction configuration object, ie the Instantiator specified
    in the DataStatement.
  </li>
  <li>
    <span class="list-item-header">connection</span> - JDBC connection object for the transaction
  </li>
</ul>
  

        
        <p>The file extension of DataStatement is "stm".</p>
      </section>
      
      <section id="instantiator">
        <h2>Instantiator</h2>
        <p>
        This crud type exposes NVP Proccessing result as objects. By default it will return a generic
          java bean. If the platform parameter <code>crudzillaJavaLangClass</code> is supplied, the object is of this type. The
          screenshot below shows the application settings for CWAB developer environment application as an example.
        </p>
        <p><img src="img/instantiator.png"/></p>
            
        
        The file extension of Instantiator is "ins".
      </section>
      
      <section id="fileuploader">
        <h2>FileUploader</h2>
        <h5>Properties</h5>
        
        <ul>
          <li><span class="list-item-header">destDir</span> - where to upload the file, by default it is <code>.</code>, meaning the working directory of the
            crud.</li>
          <li><span class="list-item-header">autoGenName</span> - set to <code>true</code> if you want an auto generated name for uploaded file</li>
          <li><span class="list-item-header">useName</span> - a name to use for uploaded file, if not specified and name is not auto generated
            then the original file name is used.</li>
          <li><span class="list-item-header">namePrefix</span> - a prefix for auto generated file names.</li>
          <li><span class="list-item-header">sizeLimit</span> - file size limit for uploaded files.</li>
          <li><span class="list-item-header">mime</span> - mime type of uploaded file.</li>
          <li><span class="list-item-header">enableUnpack</span> - set to true if you want to unzip uploaded zip files.</li> 
        </ul>
        <p><img src="img/fileuploader.png"/></p>
        <p>
          <span class="point-to-note">Note</span>, you must set <code>crudzilla_temp_upload_directory</code> in <code>crudzilla-app-settings/system-settings</code>
          before doing file uploads.
        </p>
        
        The file extension of FileUploader is "upl".
      </section>    
      
      <section id="connector">
        <h2>HttpConnector</h2>
        <h5>Properties</h5>
        <ul>
          <li><span class="list-item-header">url</span> - url to connect to.</li>
          <li><span class="list-item-header">headers</span> - header for request. This can be a crud that returns the header object or a json defining header object. <span class="point-to-note"> Note</span> the header object is a single object with name/value pairs.</li>
          <li><span class="list-item-header">loginUserId</span> - user name for http authentication.</li>
          <li><span class="list-item-header">loginPassWord</span> - password for http authentication.</li>
          <li><span class="list-item-header">authenticationHost</span> - this is option as it will be extracted from url if not specified</li>
          <li><span class="list-item-header">authenticationPort</span> - similarly optional if url will be used for authentication.</li>
          <li><span class="list-item-header">authenticationType</span> - This can be
            <ul>
              <li><span class="list-item-header">NONE</span> - no authentication
              </li>
              <li>
                <span class="list-item-header">FORM</span> - for form based authentication.
              </li>
              <li>
                <span class="list-item-header">PREEMPTIVE-BASIC</span> - Authenticates before making the url request. basic authentication.                
              </li>
              <li>
                <span class="list-item-header">PREEMPTIVE-DIGEST</span> - Authenticates before making the url request.digest authentication.
              </li>
            </ul>
          </li>
          <li><span class="list-item-header">maxFileUploadSize</span> - maximum upload size if this is a multipart request.</li>
          <li><span class="list-item-header">authenticationRealm</span> - </li>
          <li><span class="list-item-header">authenticationScheme</span>
            <ul>
              <li><span class="list-item-header">basic</span></li>
              <li><span class="list-item-header">digest</span></li>
            </ul>
          </li>
          <li><span class="list-item-header">postDataSourceType</span> - for multipart request, this specified where to get files from
            <ul>
              <li>
                <span class="list-item-header">DATAFROM-HTTPREQUEST</span> - when the files are uploaded as part of a browser based upload.
              </li>
              <li>
                <span class="list-item-header">DATAFROM-FS</span> - Use this if you want data to comre from file system.
              </li>
            </ul>
            
          </li>
          <li>
            <span class="list-item-header">postDataFileItems</span> - json array of objects of the form {"path","paraName"}.
            path is the local file system path of the file to upload and the paramName is
            the http parameter name to use for this file.          	
          </li>
          <li>
            <span class="list-item-header">method</span> - http method
            <ul>
              <li><span class="list-item-header">HTTP_GET</span></li>
              <li><span class="list-item-header">HTTP_POST</span></li>
              <li><span class="list-item-header">HTTP_POST_MULTIPART</span></li>
              <li><span class="list-item-header">HTTP_POST_CHUNKED</span></li>
            </ul>
          </li>
          <li><span class="list-item-header">mime</span> - for chunked post, what is the mime</li>
          <li><span class="list-item-header">type</span> - not used</li>
          <li><span class="list-item-header">formPageUrl</span> - url for form if form authentication is used.</li>
          <li>
            <span class="list-item-header">authenticationUseridParamName</span> - form user name http parameter name.
            
          </li>
          <li><span class="list-item-header">authenticationPasswordParamName</span> - form password http parameter name.
            
          </li>
            <li><span class="list-item-header">callParameters</span> -  This can be a crud that returns the parameters object or a json defining the parameters object. <span class="point-to-note"> Note</span> the parameters object is a single object with name/value pairs.
          </li>
        </ul>
        
        <h5>Return value</h5>
        <p>
          The return value for this crud type is an object with the following structure :
        </p>
        <ul>
          <li><span class="list-item-header">headers</span> - the headers returned by the request.</li>  
          <li><span class="list-item-header">statusCode</span> - the http status code</li>
          <li><span class="list-item-header">statusLine</span> - the http status line text</li>
          <li><span class="list-item-header">response</span> - the response body of the request</li>
        </ul>
        
        
        <img src="img/httpconnector.png"/><br/>
        The file extension of HttpConnector is "svc".
      </section>    
      
      <section id="emailsender">
        <h2>EmailSender</h2>
        <h5>Properties</h5>
        <ul>
          <li>
            <span class="list-item-header">host</span> - The smtp host name.
          </li>
          <li>
            <span class="list-item-header">smtpPort</span> - smtp port.
          </li>
          <li>
            <span class="list-item-header">sslEnabled</span> - set to <code>true</code> if you want ssl enabled
          </li>
          <li>
            <span class="list-item-header">dataSourceURI</span> - this is for embeded images.
          </li>
          <li>
            <span class="list-item-header">loginUserId</span> - login username for smtp server.
          </li>
          <li>
            <span class="list-item-header">loginPassWord</span> - pass username for smtp server.
          </li>
          <li>
            <span class="list-item-header">messageTemplate</span> - this can either be html text, plain text or the url of a crud that will generate the html.
            when it is a crud url, it must be evaluated and the return object must be a string.
          </li>
          <li>
            <span class="list-item-header">alternativeTextMessage</span> - this can either be plain text, or the url of a crud that will generate the html.
            when it is a crud url, it must be evaluated and the return object must be a string.
          </li>
          <li>
            <span class="list-item-header">bouncedMessageAddress</span> - for bounced email.
          </li>
          <li>
            <span class="list-item-header">bcc</span> - a json array of objects of the form <code>{"emailAddres","name"}</code>,
            name is optional.
          </li>
          <li>
            <span class="list-item-header">cc</span>
          </li>
          <li>
            <span class="list-item-header">replyTo</span> - a json array of objects of the form <code>{"emailAddres","name"}</code>,
            name is optional.
          </li>
          <li>
            <span class="list-item-header">headers</span> - a json array of objects of the form <code>{"name","value"}</code>
          </li>
          <li>
           <span class="list-item-header">type</span> - for html email value is HtmlEmail, for text use SimpleEmail.
          </li>
          <li>
            <span class="list-item-header">from</span> - a json object of the form <code>{"emailAddres","name"}</code>,
            name is optional.
          </li>
          <li>
            <span class="list-item-header">to</span> - a json array of objects of the form <code>{"emailAddres","name"}</code>,
            name is optional.
          </li>
          <li>
            <span class="list-item-header">subject</span> - text of subject line
          </li>
          
          <li>
            <span class="list-item-header">attachments</span> - a json array of objects of the form <code>{"path","name","description","url"}</code>.
            path or url is required, all other fields are optional.
          </li>
          
          <!--          
<li>
attachments-a json array of objects of the form {"title","url"}.
The title is the label of the attachement and the url is the url of the
attachment.
</li>
-->
        </ul>
        <img src="img/emailsender.png"/><br/>
        The file extension of EmailSender is "esd".
      </section>    
      
      <section id="crud-test">
        <h2>Testing Your Application</h2>
        Testing your application involves testing cruds. To test a crud your can right click the crud
        and select Test. You can also test from the App Assets tab by right-clicking on the crud
        executable and selecting "Test Run".
        
        
        <ul>
          <li><span class="list-item-header">Output format</span> - select the expected result type.
            <ul>
              <li>JSON - for JSON data.</li>
              <li>Html Page - If you want the result to open in a new browser tab and an html page.</li>
              <li>Text - if expecting plain text</li>
            </ul>
          </li>
          <li><span class="list-item-header">Ignore</span> - check this if you don't want the parameter sent to the crud being tested.
          </li>
          <li><span class="list-item-header">Name</span> - parameter name</li>
          <li><span class="list-item-header">Value</span> - parameter value</li>
          
        </ul>
        <img src="img/test.png"/><br/>
        <h6>Simulate</h6>
        <p>
          When you simulate a crud, the crud is run in the context of a CWAB engine instance that attempts
          to simulate the instance that will be running in your application. You simulate if your app
          isn't running or if you want to test a crud that requires authentication but you would like
          to bypass the authentication for the purpose of testing.
        </p>
        <h6>Run</h6>
        <p>
          When you run a crud or any other static asset, the test invokes a url directly against
          a running app. In other words when you run a test, it is assumed that your app is running
          at the url specified in the app context.
        </p>
        
      </section>
      
      <section id="program-cwab">
        <h2>Programming CWAB</h2>
        <p>
          The CWAB developer environment is self-referencing, what this means is that CWAB is used to
          build CWAB, similar to how eclipse or netbeans may be used to build new versions of themselves.
          There are a number of functionality in CWAB where you directly alter the functionality by
          modifying certain cruds.
        </p>
        
        <h5>Adding CodeMirror Modes</h5>
        <p>
        CodeMirror is the editor used for coding in CWAB.
          You can add aditional editor modes to edit text files. 
          Adding new modes involves the following steps
        </p>
        <ul>
          <li>
            Current modes are defined in the folder  <code>com/crudzilla/HiveMind/web/editor-mode-definitions</code>.
            Navigate to crudbase and open this folder.
          </li>
          <li>
            Create the new mode via right-click==>New==>ApplicationCrud==>CodeMirror Mode.
          </li>
          <li>
            Fill out the mode fields, see other modes for examples.
          </li>
          <li>
            Map mode to an extension by adding an entry to the
            <code>com/crudzilla/HiveMind/web/editor-mode-definitions/codemirror-editor-ext2modes</code> Instantiator.
          </li>
          <li>
            To add a new mode to the Web Resource menu, add an entry for the new mode to the
            <code>com/crudzilla/HiveMind/web/editor-mode-definitions/editable-types</code> Instantiator.
          </li>          
          <li>
            When you refresh, if you added a menu item then the new mode will have a menu item and you 
            should now be able to create files of this mode.
          </li>
        </ul>
        
        <h5>Adding new loggers</h5>
        <p>
          You can add logging from additional classes that you may have in jar components. This can be done
          both for CWAB and your own apps, so if you are building or using a Java component that is packaged 
          as a jar and deployed with your web app, you can access the log output from classes in such a 
          component in the CWAB developer environment log-viewer by configuration.
        </p>
        <ul>
          <li>
            Every app created in CWAB has a folder  <code>dev-logging/classes</code> in the base folder of that application.
            By default this folder has configuration for logging from the crud execution engine.
            Navigate to crudbase and open this folder to add new log configurations.
          </li>
          <li>
            Create the logger config via right-click==>New==>ApplicationCrud==>Logger Config.
          </li>
          <li>
            Fill out the mode fields, see other logger configs for examples.
          </li>
          <li>
            To enable logging from this newly added class, open the <code>dev-logging/classes/class-list</code> Instantiator
            and add an entry for the newly added class logger config.
          </li>
          <li>
            You'll need to restart CWAB for this to take effect.
          </li> 
        </ul>        
        
        <h5>Altering App configuration</h5>
        <p>
          When you create a new app a new configuration is created to register that app with CWAB.
          This configuration is the same as the object created if you right-click a folder
          New==>Application Crud==>Web App.
          All app configs are stored in folder <code>com/crudzilla/HiveMind/web/new-web-app/app-list</code>. 
          They have the same name as the app and they are registered by addng an entry to
          <code>com/crudzilla/HiveMind/web/new-web-app/app-list/apps</code>.
          The contextPath propertie is important as it points to the url of the app and this is used for testing
          cruds that belong to this app and also for the logviewer feature to work correctly.
          
        </p>        
        
        <h5>Adding new users to your CWAB installation</h5>
        <p>
          Access the "Application Menu" to open the user management utility.
        </p>
        <p>
          You can also run the set of cruds in the folder <code>com/crudzilla/HiveMind/web/user-identity</code> to implement additional user management features.
          The DataStatements are  sufficient for adding and removing users. You may also build your own UI on top of these.
        </p>
            
        
        
      </section>      
      
      
      
      <section id="data-modeling">
        <h2>Data Modeling</h2>
        <p>
          Data modeling makes use of Database Table and Column Pooling (DTCP) technology introduced in CWAB. 
        </p>
        <p>
          Ordinarily when you want to add a new data model to your application, you create a table to represent the model and
          add columns to represent the fields of that model. What the CWAB DTCP technology suggests
          is to use the database table and columns as storage devices instead of modeling constructs.
        </p>
        <p><img src="../../img/cwab-datamodel-stack.png"/></p>
        <p>
          The data modeling technology built into CWAB allows you to create DataModels in CWAB and map them
          to database tables and columns. When you use CWAB data modeling, you view the database tables
          and columns in your application database purely as storage devices. When you want to know what your actual data models look
          like you'll look at your CWAB DataModels not your database tables and columns.
        </p>
        <p>
        	<span class="point-to-note">Note</span> that this is still an experimental technology.          
        </p>
        
                
        
        <h5>Creating Database Table and Column Pooling (DTCP) tables</h5>
        <p>
          The first step towards data modeling in CWAB is to create the pooled database tables. This means
          creating one or more database tables each with its own pool of columns of various sql type distributions.
        </p>
        <p>
          Below is an example of what a pooled database table looks like, note the distribution of 
          sql types. It is up to you and your need to decide what the sql type distribution should be
          for your DTCP tables.          
        </p>
        <img src="img/pooled-dbtable-sql.png"/>

        <p>
          You should view a DTCP table as a large matrix that holds data. The data modeling in CWAB
          provides the mechanism to make sense of the data in the matrix.
        </p>
        
        <h6>Generating DTCP table sql create statement.</h6>
        <p>
          To generate the sql shown above, you need to create a generation strategy. <br/>
          <span class="point-to-note">Note</span> that all
          steps outlined below are optional, you can use any other means to create a database table
          with a pool of columns of various sql types. The generation facility provided by CWAB is only
          for convenience but not required.
        </p>
        <ul>
          <li>
            Create a folder, where your strategy information would be stored.
          </li>
          <li>
            <p>
              For each sql type you wish to create columns for, create the generated column type.
              From the Data Modeling menu:
            </p>
            <img src="img/generated-column-type-menu.png"/>
          </li>
          <li>
            <p>
              Fill out the Generated Column Type. The count is the number of columns of this type
              that should be generated.
            </p>
            <img src="img/generated-column-type-view.png"/>
          </li>
          <li>
            <p>
              Create an Instantiator and list the created types in it. Make these types executable.
            </p>
            <img src="img/generated-column-type-list.png"/>
          </li>
          <li>
            <p>
              Create a "Generated DataTable Strategy" ... this should point to the list in the step
              above.
            </p>
            <img src="img/generated-dtcp-strategy-menu.png"/>
          </li>
          <li>
            <p>
              Fill out the strategy fields.
            </p>
            <img src="img/datatable-strategy-view.png"/>
            
            <ul>
              <li>
                <span class="list-item-header">columnTypes</span> - Specify the path to the type list created above.
              </li>
              <li>
                <span class="list-item-header">createDataTable</span> - Specify a dynamic DataStatement that would accept the generated
                create table sql and execute it. This DataStatement should expect a 
                parameter <code>sql</code> which is the sql we are going to generate.
              </li>
              <li>-OR-</li>
              <li>
                <span class="list-item-header">dataSource</span> - Alternatively, you can simply specify
                a DataSource against which the generated sql must be executed, CWAB would take care of executing it.
              </li>
            </ul>
          </li>
          <li>
            <p>
              CWAB provides a simple tool for generating the necessary sql statements for creating 
              DTCP tables. You can access the DTCP generator from the Application menu.         
            </p>
            <img src="img/generate-pooled-dbtable-menu.png"/>            
          </li>
          <li>
            <p>DCTP table Generator Tool</p>
            <img src="img/pooled-dbtable-generator-tool.png"/>          
          </li>
          <li>Drop a reference to the strategy created above</li>
          <li>Click the Generate the button to generate the create statement sql template, 
            change the name of the table you wish to generate
          </li>
          <li>
            Click the Create button to run the generated statement.
            <p>
			<span class="point-to-note">Note</span> that this is optional as you can just run the generated sql in an
                  sql client of your choosing  against your application database.  
            </p>
          </li>
        </ul>
        
        <h5>Create DataTable Object.</h5>
        <p>
          After creating a DTCP table as outline above, you need to create a corresponding DataTable object
          in CWAB that will be used to map DataModels to the actual database table.
        </p>
        <ul>
          <li>
            <p>
              Create a folder, this folder should have the same name as the DTCP database table it represents.
              The DataTable object should be called <code>datatable</code>.
            </p>
            <img src="img/datatable-menu-item.png"/>
          </li>
          <li>
            <p>Fill out the fields of the DataTable created above.</p>
            <img src="img/datatable-view.png"/>
            <ul>
              <li><span class="list-item-header">crudzillaJavaLangClass</span> - The crudzillaJavaLangClass is used internally, do not edit.</li>
              <li><span class="list-item-header">dataSource</span> - Provide the DataSource/database to which this DataTable database table belong.</li>
              <li><span class="list-item-header">name</span> - Provide the name of the actual DTCP table created above.</li>
              <li><span class="list-item-header">typeColumn</span> - This is the column object that will be mapped to type fields of DataModels</li>
            </ul>
          </li>
        </ul>
        
        <h5>Generating DataTable Columns.</h5>
        <p>
          After creating a DataTable object as outline above, you need to create corresponding column objects
          that will be used to map DataModel fields to actual database table columns.          
        </p>
        <ul>
          <li>
            Under your DataTable object folder create a sub-folder called <code>columns</code>.
          </li>
          <li>
            <p>
              Right-click on the columns folder and navigate to the Data Modeling menu and select "Generate Columns".
            </p>
            <img src="img/generate-datatable-columns-menu.png"/>
          </li>
          <li>
            Drop a reference to the DataTable created above.
          </li>
          <li>
            <p>
            Click the "Generate" button to get the available columns from the DTCP database
            table created above.
            </p>
            <img src="img/generated-column-tool-view.png"/>
          </li>
          <li>
            Select the column objects you wish to generate, generally you'll select all.
          </li>
          <li>
            Click the "Create" button to generate DataTable Column objects in the folder you right-clicked
            on above. 
          </li>
          <li>
            <p>This will create DataTable column objects that you are going to use for mapping to DataModel fields.</p>
            <p>
              The column objects generated will be named following the convention <code>&lt;DTCP-table-column-name&gt;-&lt;sql-type&gt;</code>
            </p>            
            <p><img src="img/generated-columns.png"/></p>

          </li>      
          <li>
            <p>You shouldn't have to edit the generated column objects.</p>
            <p> <img src="img/generated-column-view.png"/></p>
          </li>
        </ul>
        
        <h5>Creating a DataModel</h5>
        <p>
          We now need to create the actual DataModels that will represent our application data models such
          as say customer, order, inventory...etc.
        </p>
        <p>
          The first step in creating a DataModel is to determine a namespace for the model. Because
          you are going to be storing instances of numerous models in the same DTCP database table, you need a way to
          uniquely identify rows that below to a particular model. The proposed approach is to
          use the java package naming convention as a way to create namespaces.           
        </p>
        <p>
           So for instance a DataModel called customer could be stored in the crudbase as
          <code>com/crudzilla/crudzilla-website/data/customer</code>.
          This path which is relative to the application base directory then becomes the type 
          identifier for all customer rows. 
        </p>
        <p>
          The path can be relative to any folder, as long as it is likely to be
          unique across any number of different DataModels, this would be sufficient to uniquely
          identify a given DataModel type.
        </p>
        <p>
          There should be a field that all DataModels have that specify what their type namespace is. 
          The field name should be <code>crudzillaType</code> and it should have the namespace value for all instances of the
          DataModel.         
        </p>
        
        <h6>Automatic approach</h6>
        <p>
          The easiest way to create your Data Model is to use the DataModel creation tool:
        </p>
        <p><img src="img/datamodel-tool-menu.png"/></p>
        <p>
          Select a DTCP table (aka WideTable) to map your model to and then fill in the fields and their 
          corresponding column mapping.
        </p>
        <p><img src="img/datamodel-tool-view.png"/></p>
        
        
        <h6>Manual approach</h6>
        <ul>
          <li>In your namespace folder, create a folder to hold your DataModel. 
            This folder should have the name of your DataModel that you'll use in your sql statements,
            for instance <code>customer</code>
          </li>
          
          <li>
            <p>
              Right click on the folder and navigating to the Data Modeling menu to create a
              DataModel object.
            </p>
            <p>
              The DataModel object should be called <code>datamodel</code>.
            </p>
            <p><img src="img/datamodel-menu.png"/></p>
          </li>
          <li>
            <p>Fillout the DataModel object.</p>
            
            <img src="img/datamodel-view.png"/>
            <ul>
              <li><span class="list-item-header">crudzillaJavaLangClass</span> - do not use, used internally.</li>
              <li><span class="list-item-header">fields</span> - path to the field list of this DataModel, this should be <code>fields.ins</code></li>
              <li><span class="list-item-header">name</span> - name of DataModel to be used in DataStatement sql, that is name of the folder created above.</li>
              <li><span class="list-item-header">dataTable</span> - path to DataTable object created above, this establishes the connection to actual DTCP database table.</li>
              <li><span class="list-item-header">typeIdentifier</span> - type namespace of this model, this will be used internally by CWAB for certain tasks.</li>
            </ul>
          </li>            
        </ul>
        
        <h6>Creating DataModel Fields</h6>
        <ul>
          <li>
            Under your DataModel folder, create a sub-folder called <code>fields</code>.
          </li>
          <li>
            <p>
              For each field of your DataModel, right click on <code>fields</code> folder and create the DataModel fields by navigating to DataModel Fields
            menu.
            </p>
            <img src="img/datamodel-field-menu.png"/>
          </li>
          <li>
            Fill out the DataModel Fields.
            <img src="img/datamodel-field-view.png"/>
            <ul>
              <li><span class="list-item-header">crudzillaJavaLangClass</span> - should not be altered, it is used internally.</li>
              <li><span class="list-item-header">column</span> - drag-n-drop one of the column objects that were generated earlier. The value should be the path to the draged-n-droped column</li>
              <li><span class="list-item-header">name</span> - name of the field. This would be used in all sql statements to reference this field.</li>
                <li><span class="list-item-header">useAsLabel</span> - set to true if the name should be automatically used as the label for the mapped column in instances where the AS clause isn't used in sql select statements.</li>
            </ul>
          </li>     
          <li>
            <p>
            Under the DataModel folder create an Instantiator list to hold the fields, 
              this object should be called <code>fields</code>. 
              You must add all the fields your created above to this list.
            </p>
            <img src="img/datamodel-field-list.png"/>
          </li>          
        </ul>
                      
        
        <h5>Create DataModel reference</h5>
        <p>
        A DataModel reference is an Instantiator list of DataModels that have been defined as required above.
        You create any number of references depending on which DataModels you want to use. These
        references would then be dropped on the appropriate DataStatement that uses them.
        </p>
        <p>
        	<img src="img/datamodel-references.png"/>
        </p>
               
        
         <h5>DataTable Summary</h5>
  
        <h6>DataTable layout</h6>
        <p>
          Your DataTable should be layed out as demonstrated below. Below the <code>columns</code>
          folder contains DataTable column objects generated as outlined above.<br/> <span class="point-to-note">Note</span> DataTables
          need not follow the Java naming convention, however you should organize all your
          DataTables in an appropriate manner.
        </p>        
        <p>
        	<img src="img/datatable-crudbase-layout.png"/>
        </p>
        
        <h6>Simplified steps for creating a DataTable</h6>
        <ul>
          <li>Create a folder with the same name as your DTCP table.</li>  
          <li>Under this folder, create a DataTable object and it should be called <code>datatable</code>.</li>
          <li>Fill out the fields of <code>datatable</code></li>
          <li>Under the DataTable folder create a sub-folder called <code>columns</code></li>
          <li>Right-click on the <code>columns</code> folder, and generate the DataTable column objects</li>
        </ul>
        
        
        <h5>DataModel Summary</h5>
        <p>
        	As further clarification, when you are done with the steps outlined above 
          your crudbase should have the following layouts.
        </p>
        <h6>DataModel Layout</h6>
        <p>
          The following diagram shows what the layout for a typical applications DataModel should be.
          In this diagram we see a DataModel for customer.
        </p>
        <p>
        	<img src="img/datamodel-crudbase-layout.png"/>
        </p>
        <h6>Simplified steps for creating DataModel</h6>
        <ul>
          <li>Create a namespace that follows java package convention.</li>
          <li>Create a folder under the right namespace with the name of your DataModel</li>
          <li>Under this folder, create a DataModel object and it should be called <code>datamodel</code>.</li>
          <li>Under this folder, create an Instantiator called <code>fields</code></li>
          <li>Under this folder, create a sub-folder called <code>fields</code></li>
          <li>Under the sub-folder <code>fields</code> create your DataModel Field objects</li>
          <li>Make sure there is one field called <code>crudzillaType</code></li>
          <li>Fill out all fields for your DataModel fields</li>
          <li>Add the crud path in the <code>fields</code> Instantiator for each DataModel Field and make sure evaluation is enabled for each entry.</li>
        </ul>        
        
        <p>
          These layouts together describe what a DataModel in CWAB looks like.
        </p>        
      </section>
      
      <section id="backup">
        <h2>Backing up your work</h2>
        <p>
          It is highly recommeded that you run a regular backup of your work. CWAB supports backing
          up both your file system resources and your crud database.
        </p>
        <p>
          To add a folder or file to backup, right click and select backup.
          To run a backup select Run Backup from Application menu. <span class="point-to-note">Note</span> that adding a file or folder to
          backup is not the same as running a backup.
        </p>
        <p>
          The backup resources are all stored in your asset directory in the 
          folder <code>crudzilla-backup-snapshots</code>.          
        </p>
        <p><img src="img/system-menu.png"/></p>
        <p>
          <span class="point-to-note">Note</span> that these backups are local, meaning if the computer on which CWAB is running suffers
          disk failure for instance, then you may lose all your work including backup. To address this
          problem you should probably setup some sort of additional backup to save your backups in other
          places, such as in the cloud, google drive, github..etc.
        </p>
        <p>Crudzilla will offer a cloud backup service in the near future.</p>
      </section>
      
      
      <section id="log-view">
        <h2>Logging</h2>
        <p>
          CWAB supports logging during development. See section on Programming CWAB for steps on
          how to configure logging.
        </p>
        <p>
          You can view log output for an application that is currently running from the application
          menu.          
        </p>
        <p>
          <img src="img/application-menu.png"/>
        </p>
        <p>
          <span class="point-to-note">Note</span> that to configure production logging for your application, you'll need to integrate your
          preffered logger and configure it. The logging in the CWAB development environment is for
          development only and isn't persisted to disk. The CWAB development environment uses log4j,
          you may setup something else for your production use.
        </p>
        <p>
          Within ScriptExecutors the <code>crud</code> object has a method <code>logger()</code> for logging.
          It returns the apache commons logging <code>org.apache.commons.logging.Log</code> object.
        </p>
      </section>

      <section id="configure">
        <h2>Configuring Crud Applications</h2>
        <p>
          You set application configurations via entries in <code>crudzilla-app-settings/system-settings</code>.
          
        </p>
        <p>
			You need to specify the base directory of your application assets including cruds. 
          There are varous directories that can be set.
          By Default these are set to the asset directory sub-directory that 
          your application is created in, that is the crud home of your 
           application (<code>&lt;path-to-your-app-directory&gt;/web</code>). 
          You should only need to 
            set most of these for production deployment, not during development.
        </p>
        
		<ul>
          <li><span class="list-item-header">crudzilla_static_file_base_dir</span> - Where static resources such 
            as html, javascript,image and css files are stored. You may leave this blank in which case 
            the <span class="list-item-header">app-home</span> servlet init parameter value would be used.
            </li>
          <li><span class="list-item-header">crudzilla_monitor_crud_changes</span> - points to configuration 
            for crud file change monitor for hot swapping of cruds.
            </li>
          <!--<li><span class="list-item-header">crudzilla_crud_home</span> - This is a directory that has all 
            executable cruds. You may leave this blank in which case the <span class="list-item-header">app-home</span> servlet init parameter 
            value would be used.</li>-->
            <li><span class="list-item-header">crudzilla_velocity_template_root</span> - 
            This is the base directory for the Velocity template engine, Velocity would 
            look in this directory for template files. You may leave this blank in which case 
              the <span class="list-item-header">app-home</span> servlet init parameter value would be used.
            </li>
          <li><span class="list-item-header">crudzilla_serve_static_content</span> - set to <code>true</code> to 
            enable the serving of static resources. It is true by default.
            </li>
          <li><span class="list-item-header">crudzilla_engine_startup_handler</span> - pointer to a 
            crud that should be run whenever the CWAB middle-ware layer is initialized.
            </li>
          <li><span class="list-item-header">crudzilla_asset_base</span> - This simply states how 
            many levels up from the developer studio application executable resource directory 
            is the asset directory. This should not be modified, it used internally.
            </li>
          <li><span class="list-item-header">crudzilla_welcome_files</span> - 
            comma seperated list of default directory files.
            </li>
          <li><span class="list-item-header">crudzilla_url_mapper</span> - 
            Points to an Instantiator that replaces a native crud url with a user-friendly version. 
            Each parameter entry represents one such mapping. 
            The name of the parameter would be the user-friendly alias while the value has the actual crud path.
            <p>
              <span class="point-to-note">Note</span> that this must be a map, in other words the Instantiator
              pointed to must have the parameter <code>crudzillaJavaLangClass</code> set to <code>map</code>.
            </p>
            </li>
          <li><span class="list-item-header">crudzilla_interceptor</span> - 
            a crud that serves as a central controller for all requests 
            to the CWAB middle-ware. Set this if you want control over all 
            requests to your application. The argument map will have a variable named  
            <code>crudzilla_requested_resource</code>, this holds the actual request resource path. 
            </li>
          <li>
            <span class="list-item-header">crudzilla_temp_upload_directory</span> - temp filesystem location for file uploads.
          </li>
          <li>
            <span class="list-item-header">crudzilla_http_output_mime</span> - set the global mime type for velocity templates.
            </li>
          <li>
            <span class="list-item-header">crudzilla_http_passthrough</span> - set to <code>true</code>
            to allow velocity templates to stream output directly to <code>httpResponse</code>, 
            this is default behaviour.
          </li>
          <li>
            <span class="list-item-header">crudzilla_default_datasource</span> - set this to the path of the default DataSource object for DataStatements.
          </li>
          <li>
            <span class="list-item-header">crudzilla_variable_selector_switches</span> - see NVP Processing section for details on Variable Selection.
          </li>
          <li>
            <span class="list-item-header">crudzilla_user_profile_initializer</span> - path to a crud that will return a user profile object, see User Profile section.
          </li>          
          <li>
            <span class="list-item-header">crudzilla_evaluate_user_supplied_values</span> - default is <code>false</code>. set to <code>true</code> if you want to enable expression evaluation
            on parameters whose values may have been user supplied. By default all parameters with
            their eval checkboxes checked are required to be final otherwise the evaluation would not be
            performed, set this parameter to <code>true</code> to override this default behaviour.
            <p>
              <span class="point-to-note">Note</span> setting this to <code>true</code> is a potential security risk.
            </p>
          </li>
        </ul>
        <p>
        <span class="list-item-header">app-home</span> is set in your application's web.xml file, by default it is
        a relative path, ie relative to the asset directory which is <code>cwab-dist/crudzilla-apps/crudzilla</code>.
        </p>
        <p>

        <p>
        	You may also specify an absolute filesystem path for <span class="list-item-header">app-home</span>.
        </p>
        

      </section>      
      
      <section id="user-profile">
        <h2>User Profile</h2>
        <p>
          The CWAB platform provides a mechnism that makes it easy for your application
          to use elements in a user's profile. A user's profile is simply imformation
          about the currently logged in user, this can include name, contact information
          and any other information that you want to associate with a user's profile in
          an application.
        </p>
        
        <p>
          In your <code>crudzilla-app-settings/system-settings</code>, set the parameter <code>crudzilla_user_profile_initializer</code> to  
          a crud path that returns the user profile object. For instances this can be a DataStatement
          that uses the <code>crudzilla_user</code> argument map property to lookup the id of
          the user which can be used to associate the user with elements in a multi-user application.
        </p>
        <p>
          You can certainly get your user profile information ondemand, ie at the moment you need it in your
          application, however this mechanism allows you to setup user profile retrieval once
          and then easily use elements of the profile all over your application.
        </p>
        <p>
          All elements of the user profile can be accessed in your application using the name pattern
          <code>crudzilla_user_&lt;ELEMENT-NAME&gt;</code>, where <code>&lt;ELEMENT-NAME&gt;</code> is
          a property in the user profile object returned, such as <code>id</code>.
        </p>
        <p>
          The user profile object is stored in the http session(<code>httpRequest.getSession()</code>) as <code>crudzilla_user_profile</code>,
          to invalidate this object, simply remove it from the session, it will be reloaded next time
          a user request is processed. You may also manually [re]load it by setting the session attribute.
        </p>
        <p>
          <span class="point-to-note">Note</span> that the argument map property <code>crudzilla_user</code>
          is assumed to be the way you identify a user's profile. This property is available once a user
          is authenticated.
        </p>
      </section>      
      
      
      <section id="app-startup">
        <h2>Application Startup</h2>
        <p>
          When the CWAB engine is started, you can register a handler to be called. This can be any
          crud type though it should be a ScriptExecutor that will take care of startup tasks such as setting up 
          logging.
        </p>
        <p>
          In your <code>crudzilla-app-settings/system-settings</code>, set the parameter <code>crudzilla_engine_startup_handler</code> to your startup
          crud path. <br/>
        
          <span class="point-to-note">Note</span>, this parameter should not be evaluated, just the path to the crud is required, the engine will
          execute it once full engine setup is complete.
        </p>
      </section>
      
      <section id="deploy">
        <h2>Deploying Crud Applications</h2>
        <p>
          The CWAB product is built on top of the jetty container. When you are building your 
          application it will be running in jetty. You can deploy your finished application to 
          another application server of your choice though the existing setup is recommended
          unless there is solid reason to use a different java appserver/container.          
        </p>
        <p>
          The key jar dependencies are outlined as follows.
        </p>
        
        <ul>
            <li>
              <code>cwab-dist/lib/ext/crudzilla</code> contains all crudzilla dependent jars.
            </li>
            <li>
              All jars in <code>cwab-dist/lib/ext/crudzilla/core</code> are required to run crud
              applications except
              <ul>
                <li><span class="list-item-header">ant.jar</span> - required for development only unless you want to use ant in prod.</li>
                <li><span class="list-item-header">ant-launcher.jar</span> - required for development only unless you want to use ant in prod.</li>
                <li><span class="list-item-header">log4j.jar</span> - if you are not using log4j in prod then you must include your preferred logging implementation.</li>
              </ul>
            </li>
            <li>
              In <code>cwab-dist/lib/ext/crudzilla/jvm-language-support</code> the required jars are
              <ul>
                <li><span class="list-item-header">commons-jexl.jar</span> - jexl language support.</li>
                <li><span class="list-item-header">groovy-all.jar</span> - groovy language support.</li>
                <li><span class="list-item-header">velocity.jar</span> - velocity template support.</li>
              </ul>
              <p>
                The jars below are required if you use the given languages in your applications
              </p>
              <ul>
                <li><span class="list-item-header">js.jar</span> - if you use javascript.</li>
                <li><span class="list-item-header">jruby-complete.jar</span> - if you use ruby.</li>
                <li><span class="list-item-header">jython.jar</span> - if you use python.</li>
                <li><span class="list-item-header">clojure.jar & clojure-jsr223.jar</span> - if you use clojure.</li>
              </ul>
            </li>          
            <li>
              jars in <code>cwab-dist/lib/ext/crudzilla/dev-tools</code> are only required during development.
            </li>
          
            <li>
              <p>
              Additionally, jars in <code>cwab-dist/lib/ext/mail</code> include the Java mail api and implementation.
              Your production environment may or may not have the required Java mail support.
              </p>
              <p>
                The CWAB EmailSender crud type uses the apache commons mail component which requires
                Java mail support.
              </p>
            </li>          
        </ul>
        
      </section>        
    </div>
  </body>
</html>